!function(e,t){"function"==typeof define&&define.amd?define(["./blockly_compressed.js"],t):"object"==typeof exports?module.exports=t(require("./blockly_compressed.js")):(e.python=t(e.Blockly),e.Blockly.Python=e.python.pythonGenerator)}(this,function(e){var t,n,o=e.__namespace__,r=function(e,n){let o,r,i=0,a="";n.STATEMENT_PREFIX&&(a+=n.injectId(n.STATEMENT_PREFIX,e));do{r=n.valueToCode(e,"IF"+i,t.NONE)||"False",o=n.statementToCode(e,"DO"+i)||n.PASS,n.STATEMENT_SUFFIX&&(o=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+o),a+=(0===i?"if ":"elif ")+r+":\n"+o,i++}while(e.getInput("IF"+i));return(e.getInput("ELSE")||n.STATEMENT_SUFFIX)&&(o=n.statementToCode(e,"ELSE")||n.PASS,n.STATEMENT_SUFFIX&&(o=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+o),a+="else:\n"+o),a},i=function(e,n){let r;r=e.getField("TIMES")?String(parseInt(e.getFieldValue("TIMES"),10)):n.valueToCode(e,"TIMES",t.NONE)||"0",r=o.isNumber$$module$build$src$core$utils$string(r)?parseInt(r,10):"int("+r+")";let i=n.statementToCode(e,"DO");return i=n.addLoopTrap(i,e)||n.PASS,"for "+n.nameDB_.getDistinctName("count",o.NameType$$module$build$src$core$names.VARIABLE)+" in range("+r+"):\n"+i},a=function(e,n){const o=e.getFieldValue("OP");let r;if("NEG"===o)return r=n.valueToCode(e,"NUM",t.UNARY_SIGN)||"0",["-"+r,t.UNARY_SIGN];if("NOT"===o)return r=n.valueToCode(e,"NUM",t.UNARY_SIGN)||"0",["~"+r,t.BITWISE_NOT];switch(n.definitions_.import_math="import math",e="SIN"===o||"COS"===o||"TAN"===o?n.valueToCode(e,"NUM",t.MULTIPLICATIVE)||"0":n.valueToCode(e,"NUM",t.NONE)||"0",o){case"ABS":r="math.fabs("+e+")";break;case"ROOT":r="math.sqrt("+e+")";break;case"LN":r="math.log("+e+")";break;case"LOG10":r="math.log10("+e+")";break;case"EXP":r="math.exp("+e+")";break;case"POW10":r="math.pow(10,"+e+")";break;case"ROUND":r="round("+e+")";break;case"ROUNDUP":r="math.ceil("+e+")";break;case"ROUNDDOWN":r="math.floor("+e+")";break;case"SIN":r="math.sin("+e+" / 180.0 * math.pi)";break;case"COS":r="math.cos("+e+" / 180.0 * math.pi)";break;case"TAN":r="math.tan("+e+" / 180.0 * math.pi)"}if(r)return[r,t.FUNCTION_CALL];switch(o){case"ASIN":r="math.asin(math.sin(math.radians("+e+")))";break;case"ACOS":r="math.acos(math.cos(math.radians("+e+")))";break;case"ATAN":r="math.atan(math.tan(math.radians("+e+")))";break;default:throw Error("Unknown math operator: "+o)}return[r,t.MULTIPLICATIVE]},u=function(e,n){var r=[],i=e.workspace,a=o.allUsedVarModels$$module$build$src$core$variables(i)||[];for(var u of a)a=u.name,e.getVars().includes(a)||r.push(n.getVariableName(a));for(i=o.allDeveloperVariables$$module$build$src$core$variables(i),u=0;u<i.length;u++)r.push(n.nameDB_.getName(i[u],o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));i=r.length?n.INDENT+"global "+r.join(", ")+"\n":"",r=n.getProcedureName(e.getFieldValue("NAME")),u="",n.STATEMENT_PREFIX&&(u+=n.injectId(n.STATEMENT_PREFIX,e)),n.STATEMENT_SUFFIX&&(u+=n.injectId(n.STATEMENT_SUFFIX,e)),u&&(u=n.prefixLines(u,n.INDENT)),a="",n.INFINITE_LOOP_TRAP&&(a=n.prefixLines(n.injectId(n.INFINITE_LOOP_TRAP,e),n.INDENT));let l="";e.getInput("STACK")&&(l=n.statementToCode(e,"STACK"));let s="";e.getInput("RETURN")&&(s=n.valueToCode(e,"RETURN",t.NONE)||"");let d="";l&&s&&(d=u),s?s=n.INDENT+"return "+s+"\n":l||(l=n.PASS);const N=[],E=e.getVars();for(let e=0;e<E.length;e++)N[e]=n.getVariableName(E[e]);return i="def "+r+"("+N.join(", ")+"):\n"+i+u+a+l+d+s,i=n.scrub_(e,i),n.definitions_["%"+r]=i,null},l=function(e,n){var o=n.provideFunction_("text_prompt",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(msg):\n  try:\n    return raw_input(msg)\n  except NameError:\n    return input(msg)\n`);return o=o+"("+(n=e.getField("TEXT")?n.quote_(e.getFieldValue("TEXT")):n.valueToCode(e,"TEXT",t.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(o="float("+o+")"),[o,t.FUNCTION_CALL]},s=function(e,n){return[n.getVariableName(e.getFieldValue("VAR")),t.ATOMIC]},d=function(e,n){const o=n.valueToCode(e,"VALUE",t.NONE)||"0";return n.getVariableName(e.getFieldValue("VAR"))+" = "+o+"\n"};(n=t||(t={}))[n.ATOMIC=0]="ATOMIC",n[n.COLLECTION=1]="COLLECTION",n[n.STRING_CONVERSION=1]="STRING_CONVERSION",n[n.MEMBER=2.1]="MEMBER",n[n.FUNCTION_CALL=2.2]="FUNCTION_CALL",n[n.EXPONENTIATION=3]="EXPONENTIATION",n[n.UNARY_SIGN=4]="UNARY_SIGN",n[n.BITWISE_NOT=4]="BITWISE_NOT",n[n.MULTIPLICATIVE=5]="MULTIPLICATIVE",n[n.ADDITIVE=6]="ADDITIVE",n[n.BITWISE_SHIFT=7]="BITWISE_SHIFT",n[n.BITWISE_AND=8]="BITWISE_AND",n[n.BITWISE_XOR=9]="BITWISE_XOR",n[n.BITWISE_OR=10]="BITWISE_OR",n[n.RELATIONAL=11]="RELATIONAL",n[n.LOGICAL_NOT=12]="LOGICAL_NOT",n[n.LOGICAL_AND=13]="LOGICAL_AND",n[n.LOGICAL_OR=14]="LOGICAL_OR",n[n.CONDITIONAL=15]="CONDITIONAL",n[n.LAMBDA=16]="LAMBDA",n[n.NONE=99]="NONE";var N=class extends o.CodeGenerator$$module$build$src$core$generator{constructor(e="Python"){super(e),this.ORDER_OVERRIDES=[[t.FUNCTION_CALL,t.MEMBER],[t.FUNCTION_CALL,t.FUNCTION_CALL],[t.MEMBER,t.MEMBER],[t.MEMBER,t.FUNCTION_CALL],[t.LOGICAL_NOT,t.LOGICAL_NOT],[t.LOGICAL_AND,t.LOGICAL_AND],[t.LOGICAL_OR,t.LOGICAL_OR]],this.PASS="",this.isInitialized=!1;for(const n in t)"string"!=typeof(e=t[n])&&(this["ORDER_"+n]=e);this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(e){super.init(e),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new o.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);const t=[];var n=o.allDeveloperVariables$$module$build$src$core$variables(e);for(let e=0;e<n.length;e++)t.push(this.nameDB_.getName(n[e],o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(e=o.allUsedVarModels$$module$build$src$core$variables(e),n=0;n<e.length;n++)t.push(this.getVariableName(e[n].getId())+" = None");this.definitions_.variables=t.join("\n"),this.isInitialized=!0}finish(e){const t=[],n=[];for(let e in this.definitions_){const o=this.definitions_[e];o.match(/^(from\s+\S+\s+)?import\s+\S+/)?t.push(o):n.push(o)}return e=super.finish(e),this.isInitialized=!1,this.nameDB_.reset(),(t.join("\n")+"\n\n"+n.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e}scrubNakedValue(e){return e+"\n"}quote_(e){let t="'";return(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).includes("'")&&(e.includes('"')?e=e.replace(/'/g,"\\'"):t='"'),t+e+t}multiline_quote_(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")}scrub_(e,t,n=!1){let r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=o.wrap$$module$build$src$core$utils$string(i,this.COMMENT_WRAP-3),r+=this.prefixLines(i+"\n","# "));for(let t=0;t<e.inputList.length;t++)e.inputList[t].type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(i=e.inputList[t].connection.targetBlock())&&(i=this.allNestedComments(i))&&(r+=this.prefixLines(i,"# "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+t+(n=n?"":this.blockToCode(e))}getAdjustedInt(e,n,r=0,i=!1){e.workspace.options.oneBasedIndex&&r--;const a=e.workspace.options.oneBasedIndex?"1":"0";return e=this.valueToCode(e,n,r?t.ADDITIVE:t.NONE)||a,o.isNumber$$module$build$src$core$utils$string(e)?(e=parseInt(e,10)+r,i&&(e=-e)):(e=0<r?"int("+e+" + "+r+")":0>r?"int("+e+" - "+-r+")":"int("+e+")",i&&(e="-"+e)),e}},E={};E.Order=t,E.PythonGenerator=N;var T={lists_create_empty:function(e,n){return["[]",t.ATOMIC]},lists_create_with:function(e,n){const o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"None";return["["+o.join(", ")+"]",t.ATOMIC]},lists_del:function(e,n){let o=n.valueToCode(e,"LIST",t.NONE)||"0",r=e.getFieldValue("SELECT");return e=n.valueToCode(e,"VALUE",t.NONE)||"0",n="","index"===r?n=`del ${o}[${e}]\n`:"value"===r&&(n=`${o}.remove(${e})\n`),n},lists_getIndex:function(e,n){const o=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START";var i=n.valueToCode(e,"VALUE","RANDOM"===r?t.NONE:t.MEMBER)||"[]";switch(r){case"FIRST":if("GET"===o)return[i+"[0]",t.MEMBER];if("GET_REMOVE"===o)return[i+".pop(0)",t.FUNCTION_CALL];if("REMOVE"===o)return i+".pop(0)\n";break;case"LAST":if("GET"===o)return[i+"[-1]",t.MEMBER];if("GET_REMOVE"===o)return[i+".pop()",t.FUNCTION_CALL];if("REMOVE"===o)return i+".pop()\n";break;case"FROM_START":if(e=n.getAdjustedInt(e,"AT"),"GET"===o)return[i+"["+e+"]",t.MEMBER];if("GET_REMOVE"===o)return[i+".pop("+e+")",t.FUNCTION_CALL];if("REMOVE"===o)return i+".pop("+e+")\n";break;case"FROM_END":if(e=n.getAdjustedInt(e,"AT",1,!0),"GET"===o)return[i+"["+e+"]",t.MEMBER];if("GET_REMOVE"===o)return[i+".pop("+e+")",t.FUNCTION_CALL];if("REMOVE"===o)return i+".pop("+e+")\n";break;case"RANDOM":if(n.definitions_.import_random="import random","GET"===o)return["random.choice("+i+")",t.FUNCTION_CALL];if(i=n.provideFunction_("lists_remove_random_item",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  x = int(random.random() * len(myList))\n  return myList.pop(x)\n`)+"("+i+")","GET_REMOVE"===o)return[i,t.FUNCTION_CALL];if("REMOVE"===o)return i+"\n"}throw Error("Unhandled combination (lists_getIndex).")},lists_getSublist:function(e,n){const r=n.valueToCode(e,"LIST",t.MEMBER)||"[]";var i=e.getFieldValue("WHERE1");const a=e.getFieldValue("WHERE2");switch(i){case"FROM_START":0===(i=n.getAdjustedInt(e,"AT1"))&&(i="");break;case"FROM_END":i=n.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":i="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(a){case"FROM_START":e=n.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=n.getAdjustedInt(e,"AT2",0,!0),o.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(n.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[r+"["+i+" : "+e+"]",t.MEMBER]},lists_indexOf:function(e,n){const o=n.valueToCode(e,"FIND",t.NONE)||"[]",r=n.valueToCode(e,"VALUE",t.NONE)||"''";let i=" -1",a="",u=" - 1";return e.workspace.options.oneBasedIndex&&(i=" 0",a=" + 1",u=""),[("FIRST"===e.getFieldValue("END")?n.provideFunction_("first_index",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = my_list.index(elem)${a}\n  except: index =${i}\n  return index\n`):n.provideFunction_("last_index",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = len(my_list) - my_list[::-1].index(elem)${u}\n  except: index =${i}\n  return index\n`))+"("+r+", "+o+")",t.FUNCTION_CALL]},lists_isEmpty:function(e,n){return["not len("+(n.valueToCode(e,"VALUE",t.NONE)||"[]")+")",t.LOGICAL_NOT]},lists_length:function(e,n){return["len("+(n.valueToCode(e,"VALUE",t.NONE)||"[]")+")",t.FUNCTION_CALL]},lists_pop:function(e,n){return[`${n.valueToCode(e,"LIST",t.NONE)||"0"}.pop(${e=n.valueToCode(e,"INDEX",t.NONE)||"0"})`,t.ATOMIC]},lists_push_end:function(e,n){return`${n.valueToCode(e,"LIST",t.NONE)||"[]"}.${e.getFieldValue("SELECT")}(${e=n.valueToCode(e,"VALUE",t.NONE)||"0"})\n`},lists_repeat:function(e,n){return["["+(n.valueToCode(e,"ITEM",t.NONE)||"None")+"] * "+(e=n.valueToCode(e,"NUM",t.MULTIPLICATIVE)||"0"),t.MULTIPLICATIVE]},lists_reverse:function(e,n){return["list(reversed("+(n.valueToCode(e,"LIST",t.NONE)||"[]")+"))",t.FUNCTION_CALL]},lists_serach_value:function(e,n){let o=n.valueToCode(e,"VALUE",t.NONE)||"[]";return n=n.valueToCode(e,"VALUE1",t.NONE)||"0",[`${o}.${e=e.getFieldValue("SELECT")}(${n})`,t.FUNCTION_CALL]},lists_setIndex:function(e,n){let r=n.valueToCode(e,"LIST",t.MEMBER)||"[]";const i=e.getFieldValue("MODE")||"GET";var a=e.getFieldValue("WHERE")||"FROM_START";const u=n.valueToCode(e,"TO",t.NONE)||"None";switch(a){case"FIRST":if("SET"===i)return r+"[0] = "+u+"\n";if("INSERT"===i)return r+".insert(0, "+u+")\n";break;case"LAST":if("SET"===i)return r+"[-1] = "+u+"\n";if("INSERT"===i)return r+".append("+u+")\n";break;case"FROM_START":if(n=n.getAdjustedInt(e,"AT"),"SET"===i)return r+"["+n+"] = "+u+"\n";if("INSERT"===i)return r+".insert("+n+", "+u+")\n";break;case"FROM_END":if(n=n.getAdjustedInt(e,"AT",1,!0),"SET"===i)return r+"["+n+"] = "+u+"\n";if("INSERT"===i)return r+".insert("+n+", "+u+")\n";break;case"RANDOM":if(n.definitions_.import_random="import random",r.match(/^\w+$/)?e="":(a=(e=n.nameDB_.getDistinctName("tmp_list",o.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+"\n",r=e,e=a),e+=(n=n.nameDB_.getDistinctName("tmp_x",o.NameType$$module$build$src$core$names.VARIABLE))+" = int(random.random() * len("+r+"))\n","SET"===i)return e+(r+"[")+n+"] = "+u+"\n";if("INSERT"===i)return e+(r+".insert(")+n+", "+u+")\n"}throw Error("Unhandled combination (lists_setIndex).")},lists_sort:function(e,n){const o=n.valueToCode(e,"LIST",t.NONE)||"[]",r=e.getFieldValue("TYPE");return e="1"===e.getFieldValue("DIRECTION")?"False":"True",[n.provideFunction_("lists_sort",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):\n  def try_float(s):\n    try:\n      return float(s)\n    except:\n      return 0\n  key_funcs = {\n    "NUMERIC": try_float,\n    "TEXT": str,\n    "IGNORE_CASE": lambda s: str(s).lower()\n  }\n  key_func = key_funcs[type]\n  list_cpy = list(my_list)\n  return sorted(list_cpy, key=key_func, reverse=reverse)\n`)+"("+o+', "'+r+'", '+e+")",t.FUNCTION_CALL]},lists_split:function(e,n){var o=e.getFieldValue("MODE");if("SPLIT"===o)e=(o=n.valueToCode(e,"INPUT",t.MEMBER)||"''")+".split("+(e=n.valueToCode(e,"DELIM",t.NONE))+")";else{if("JOIN"!==o)throw Error("Unknown mode: "+o);o=n.valueToCode(e,"INPUT",t.NONE)||"[]",e=(n.valueToCode(e,"DELIM",t.MEMBER)||"''")+".join("+o+")"}return[e,t.FUNCTION_CALL]},lists_to_list:function(e,n){return[`list(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.FUNCTION_CALL]}},_={};_.controls_if=r,_.controls_ifelse=r,_.logic_boolean=function(e,n){return["TRUE"===e.getFieldValue("BOOL")?"True":"False",t.ATOMIC]},_.logic_compare=function(e,n){const o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r=t.RELATIONAL;return[(n.valueToCode(e,"A",r)||"0")+" "+o+" "+(e=n.valueToCode(e,"B",r)||"0"),r]},_.logic_compare_continous=function(e,n){var o=e.getFieldValue("OPERATORS1"),r=e.getFieldValue("OPERATORS2");return[(n.valueToCode(e,"arg0",t.NONE)||"0")+" "+o+" "+(n.valueToCode(e,"arg1",t.NONE)||"0")+" "+r+" "+(e=n.valueToCode(e,"arg2",t.NONE)||"0"),t.RELATIONAL]},_.logic_negate=function(e,n){return["not "+(n.valueToCode(e,"BOOL",t.LOGICAL_NOT)||"True"),t.LOGICAL_NOT]},_.logic_null=function(e,n){return["None",t.ATOMIC]},_.logic_operation=function(e,n){const o="AND"===e.getFieldValue("OP")?"and":"or",r="and"===o?t.LOGICAL_AND:t.LOGICAL_OR;let i=n.valueToCode(e,"A",r);return e=n.valueToCode(e,"B",r),i||e?(n="and"===o?"True":"False",i||(i=n),e||(e=n)):e=i="False",[i+" "+o+" "+e,r]},_.logic_ternary=function(e,n){const o=n.valueToCode(e,"IF",t.CONDITIONAL)||"False";return[(n.valueToCode(e,"THEN",t.CONDITIONAL)||"None")+" if "+o+" else "+(e=n.valueToCode(e,"ELSE",t.CONDITIONAL)||"None"),t.CONDITIONAL]};var c={control_forever:function(e,t){let n=t.statementToCode(e,"DO");return n=t.addLoopTrap(n,e)||t.PASS,"while True:\n"+n},control_repeat_until:function(e,n){let o=n.valueToCode(e,"BOOL",t.NONE)||"False",r=n.statementToCode(e,"DO");return r=n.addLoopTrap(r,e)||n.PASS,"while not "+o+":\n"+r},control_wait_until:function(e,n){return n.definitions_.import_time="import time",`time.sleep(${n.valueToCode(e,"number",t.NONE)||"0"});\n`},controls_flow_statements:function(e,t){let n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){const o=e.getSurroundLoop();o&&!o.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},controls_for:function(e,n){const r=n.getVariableName(e.getFieldValue("VAR"));var i=n.valueToCode(e,"FROM",t.NONE)||"0",a=n.valueToCode(e,"TO",t.NONE)||"0",u=n.valueToCode(e,"BY",t.NONE)||"1";let l=n.statementToCode(e,"DO");l=n.addLoopTrap(l,e)||n.PASS;let s="";e=function(){return n.provideFunction_("upRange",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start <= stop:\n    yield start\n    start += abs(step)\n`)};const d=function(){return n.provideFunction_("downRange",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start >= stop:\n    yield start\n    start -= abs(step)\n`)};if(o.isNumber$$module$build$src$core$utils$string(i)&&o.isNumber$$module$build$src$core$utils$string(a)&&o.isNumber$$module$build$src$core$utils$string(u))i=Number(i),a=Number(a),u=Math.abs(Number(u)),0==i%1&&0==a%1&&0==u%1?(i<=a?(a++,e=0===i&&1===u?a:i+", "+a,1!==u&&(e+=", "+u)):e=i+", "+--a+", -"+u,e="range("+e+")"):(e=i<a?e():d(),e+="("+i+", "+a+", "+u+")");else{const t=function(e,t){return o.isNumber$$module$build$src$core$utils$string(e)?e=String(Number(e)):e.match(/^\w+$/)||(t=n.nameDB_.getDistinctName(r+t,o.NameType$$module$build$src$core$names.VARIABLE),s+=t+" = "+e+"\n",e=t),e};i=t(i,"_start"),a=t(a,"_end"),u=t(u,"_inc"),"number"==typeof i&&"number"==typeof a?(e=i<a?e():d(),e+="("+i+", "+a+", "+u+")"):e="("+i+" <= "+a+") and "+e()+"("+i+", "+a+", "+u+") or "+d()+"("+i+", "+a+", "+u+")"}return s+="for "+r+" in "+e+":\n"+l},controls_forEach:function(e,n){const o=n.getVariableName(e.getFieldValue("VAR")),r=n.valueToCode(e,"LIST",t.RELATIONAL)||"[]";let i=n.statementToCode(e,"DO");return i=n.addLoopTrap(i,e)||n.PASS,"for "+o+" in "+r+":\n"+i}};c.controls_repeat=i,c.controls_repeat_ext=i,c.controls_whileUntil=function(e,n){const o="UNTIL"===e.getFieldValue("MODE");let r=n.valueToCode(e,"BOOL",o?t.LOGICAL_NOT:t.NONE)||"False",i=n.statementToCode(e,"DO");return i=n.addLoopTrap(i,e)||n.PASS,o&&(r="not "+r),"while "+r+":\n"+i};var m={math_arithmetic:function(e,n){var o={ADD:[" + ",t.ADDITIVE],MINUS:[" - ",t.ADDITIVE],MULTIPLY:[" * ",t.MULTIPLICATIVE],DIVIDE:[" / ",t.MULTIPLICATIVE],POWER:[" ** ",t.EXPONENTIATION],EXACT_DIVISION:[" // ",t.MULTIPLICATIVE],REMAINDER:[" % ",t.MULTIPLICATIVE],POSITION_AND:[" & ",t.BITWISE_AND],POSITION_OR:[" | ",t.BITWISE_OR],XOR:[" ^ ",t.BITWISE_XOR],LEFT_SHIFT:[" << ",t.BITWISE_SHIFT],RIGHT_SHIFT:[" >> ",t.BITWISE_SHIFT]}[e.getFieldValue("OP")];const r=o[0];o=o[1];return[(n.valueToCode(e,"A",o)||"0")+r+(e=n.valueToCode(e,"B",o)||"0"),o]},math_atan2:function(e,n){n.definitions_.import_math="import math";const o=n.valueToCode(e,"X",t.NONE)||"0";return["math.atan2("+(n.valueToCode(e,"Y",t.NONE)||"0")+", "+o+") / math.pi * 180",t.MULTIPLICATIVE]},math_change:function(e,n){n.definitions_.from_numbers_import_Number="from numbers import Number";const o=n.valueToCode(e,"DELTA",t.ADDITIVE)||"0";return(e=n.getVariableName(e.getFieldValue("VAR")))+" = ("+e+" if isinstance("+e+", Number) else 0) + "+o+"\n"},math_constant:function(e,n){const o={PI:["math.pi",t.MEMBER],E:["math.e",t.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",t.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",t.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",t.MEMBER],INFINITY:["float('inf')",t.ATOMIC]};return"INFINITY"!==(e=e.getFieldValue("CONSTANT"))&&(n.definitions_.import_math="import math"),o[e]},math_constrain:function(e,n){return["min(max("+(n.valueToCode(e,"VALUE",t.NONE)||"0")+", "+(n.valueToCode(e,"LOW",t.NONE)||"0")+"), "+(e=n.valueToCode(e,"HIGH",t.NONE)||"float('inf')")+")",t.FUNCTION_CALL]},math_decimal_conversion:function(e,n){n.definitions_.import_math="import math";let o=e.getFieldValue("s_bin");n=n.valueToCode(e,"val",t.NONE)||"0";let r={bin:2,oct:8,dec:10,hex:16},i="";return"bin"===(e=e.getFieldValue("e_bin"))?i=`bin(int(str(${n}), ${r[o]}))`:"oct"===e?i=`oct(int(str(${n}), ${r[o]}))`:"dec"===e?i=`int(str(${n}), ${r[o]})`:"hex"===e&&(i=`hex(int(str(${n}), ${r[o]}))`),[i,t.FUNCTION_CALL]},math_half_adjust:function(e,n){return[`round(${n.valueToCode(e,"s_math",t.NONE)||"0"}, ${e=n.valueToCode(e,"e_math",t.NONE)||"0"})`,t.FUNCTION_CALL]},math_modulo:function(e,n){return[(n.valueToCode(e,"DIVIDEND",t.MULTIPLICATIVE)||"0")+" % "+(e=n.valueToCode(e,"DIVISOR",t.MULTIPLICATIVE)||"0"),t.MULTIPLICATIVE]},math_new_random_float:function(e,n){return n.definitions_.import_random="import random",["random.uniform("+(n.valueToCode(e,"s_float",t.NONE)||"0")+", "+(e=n.valueToCode(e,"e_float",t.NONE)||"0")+")",t.FUNCTION_CALL]},math_number:function(e,n){return 1/0===(e=Number(e.getFieldValue("NUM")))?['float("inf")',t.FUNCTION_CALL]:-1/0===e?['-float("inf")',t.UNARY_SIGN]:[String(e),0>e?t.UNARY_SIGN:t.ATOMIC]},math_number_property:function(e,n){var o={EVEN:[" % 2 == 0",t.MULTIPLICATIVE,t.RELATIONAL],ODD:[" % 2 == 1",t.MULTIPLICATIVE,t.RELATIONAL],WHOLE:[" % 1 == 0",t.MULTIPLICATIVE,t.RELATIONAL],POSITIVE:[" > 0",t.RELATIONAL,t.RELATIONAL],NEGATIVE:[" < 0",t.RELATIONAL,t.RELATIONAL],DIVISIBLE_BY:[null,t.MULTIPLICATIVE,t.RELATIONAL],PRIME:[null,t.NONE,t.FUNCTION_CALL]};const r=e.getFieldValue("PROPERTY"),[i,a,u]=o[r];if(o=n.valueToCode(e,"NUMBER_TO_CHECK",a)||"0","PRIME"===r)n.definitions_.import_math="import math",n.definitions_.from_numbers_import_Number="from numbers import Number",e=n.provideFunction_("math_isPrime",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(n):\n  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  # If n is not a number but a string, try parsing it.\n  if not isinstance(n, Number):\n    try:\n      n = float(n)\n    except:\n      return False\n  if n == 2 or n == 3:\n    return True\n  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.\n  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:\n    return False\n  # Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for x in range(6, int(math.sqrt(n)) + 2, 6):\n    if n % (x - 1) == 0 or n % (x + 1) == 0:\n      return False\n  return True\n`)+"("+o+")";else if("DIVISIBLE_BY"===r){if("0"===(e=n.valueToCode(e,"DIVISOR",t.MULTIPLICATIVE)||"0"))return["False",t.ATOMIC];e=o+" % "+e+" == 0"}else e=o+i;return[e,u]},math_on_list:function(e,n){const o=e.getFieldValue("OP");switch(e=n.valueToCode(e,"LIST",t.NONE)||"[]",o){case"SUM":n="sum("+e+")";break;case"MIN":n="min("+e+")";break;case"MAX":n="max("+e+")";break;case"AVERAGE":n.definitions_.from_numbers_import_Number="from numbers import Number",n=n.provideFunction_("math_mean",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = [e for e in myList if isinstance(e, Number)]\n  if not localList: return\n  return float(sum(localList)) / len(localList)\n`)+"("+e+")";break;case"MEDIAN":n.definitions_.from_numbers_import_Number="from numbers import Number",n=n.provideFunction_("math_median",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = sorted([e for e in myList if isinstance(e, Number)])\n  if not localList: return\n  if len(localList) % 2 == 0:\n    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0\n  else:\n    return localList[(len(localList) - 1) // 2]\n`)+"("+e+")";break;case"MODE":n=n.provideFunction_("math_modes",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(some_list):\n  modes = []\n  # Using a lists of [item, count] to keep count rather than dict\n  # to avoid "unhashable" errors when the counted item is itself a list or dict.\n  counts = []\n  maxCount = 1\n  for item in some_list:\n    found = False\n    for count in counts:\n      if count[0] == item:\n        count[1] += 1\n        maxCount = max(maxCount, count[1])\n        found = True\n    if not found:\n      counts.append([item, 1])\n  for counted_item, item_count in counts:\n    if item_count == maxCount:\n      modes.append(counted_item)\n  return modes\n`)+"("+e+")";break;case"STD_DEV":n.definitions_.import_math="import math",n=n.provideFunction_("math_standard_deviation",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(numbers):\n  n = len(numbers)\n  if n == 0: return\n  mean = float(sum(numbers)) / n\n  variance = sum((x - mean) ** 2 for x in numbers) / n\n  return math.sqrt(variance)\n`)+"("+e+")";break;case"RANDOM":n.definitions_.import_random="import random",n="random.choice("+e+")";break;default:throw Error("Unknown operator: "+o)}return[n,t.FUNCTION_CALL]},math_random_float:function(e,n){return n.definitions_.import_random="import random",["random.random()",t.FUNCTION_CALL]},math_random_int:function(e,n){n.definitions_.import_random="import random";return["random.randint("+(n.valueToCode(e,"FROM",t.NONE)||"0")+", "+(e=n.valueToCode(e,"TO",t.NONE)||"0")+")",t.FUNCTION_CALL]}};m.math_round=a,m.math_single=a,m.math_trig=a,m.math_type_change=function(e,n){return n=n.valueToCode(e,"value",t.NONE)||"0",[`${e.getFieldValue("type")}(${n})`,t.FUNCTION_CALL]};var O={procedures_callnoreturn:function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+"\n"},procedures_callreturn:function(e,n){const o=n.getProcedureName(e.getFieldValue("NAME")),r=[],i=e.getVars();for(let o=0;o<i.length;o++)r[o]=n.valueToCode(e,"ARG"+o,t.NONE)||"None";return[o+"("+r.join(", ")+")",t.FUNCTION_CALL]}};O.procedures_defnoreturn=u,O.procedures_defreturn=u,O.procedures_ifreturn=function(e,n){let o="if "+(n.valueToCode(e,"CONDITION",t.NONE)||"False")+":\n";return n.STATEMENT_SUFFIX&&(o+=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)),e.hasReturnValue_?(e=n.valueToCode(e,"VALUE",t.NONE)||"None",o+=n.INDENT+"return "+e+"\n"):o+=n.INDENT+"return\n",o};var C=/^\s*'([^']|\\')*'\s*$/,I=function(e){return C.test(e)?[e,t.ATOMIC]:["str("+e+")",t.FUNCTION_CALL]},p={text:function(e,n){return[n.quote_(e.getFieldValue("TEXT")),t.ATOMIC]},text_append:function(e,n){const o=n.getVariableName(e.getFieldValue("VAR"));return e=n.valueToCode(e,"TEXT",t.NONE)||"''",o+" = str("+o+") + "+I(e)[0]+"\n"},text_changeCase:function(e,n){const o={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[e.getFieldValue("CASE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+o,t.FUNCTION_CALL]},text_charAt:function(e,n){const o=e.getFieldValue("WHERE")||"FROM_START",r=n.valueToCode(e,"VALUE","RANDOM"===o?t.NONE:t.MEMBER)||"''";switch(o){case"FIRST":return[r+"[0]",t.MEMBER];case"LAST":return[r+"[-1]",t.MEMBER];case"FROM_START":return[r+"["+(e=n.getAdjustedInt(e,"AT"))+"]",t.MEMBER];case"FROM_END":return[r+"["+(e=n.getAdjustedInt(e,"AT",1,!0))+"]",t.MEMBER];case"RANDOM":return n.definitions_.import_random="import random",[n.provideFunction_("text_random_letter",`\ndef ${n.FUNCTION_NAME_PLACEHOLDER_}(text):\n  x = int(random.random() * len(text))\n  return text[x]\n`)+"("+r+")",t.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},text_count:function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".count("+(e=n.valueToCode(e,"SUB",t.NONE)||"''")+")",t.FUNCTION_CALL]},text_getSubstring:function(e,n){var r=e.getFieldValue("WHERE1");const i=e.getFieldValue("WHERE2"),a=n.valueToCode(e,"STRING",t.MEMBER)||"''";switch(r){case"FROM_START":0===(r=n.getAdjustedInt(e,"AT1"))&&(r="");break;case"FROM_END":r=n.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(i){case"FROM_START":e=n.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=n.getAdjustedInt(e,"AT2",0,!0),o.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(n.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[a+"["+r+" : "+e+"]",t.MEMBER]},text_indexOf:function(e,n){const o="FIRST"===e.getFieldValue("END")?"find":"rfind",r=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+"."+o+"("+r+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITIVE]:[n,t.FUNCTION_CALL]},text_isEmpty:function(e,n){return["not len("+(n.valueToCode(e,"VALUE",t.NONE)||"''")+")",t.LOGICAL_NOT]},text_join:function(e,n){switch(e.itemCount_){case 0:return["''",t.ATOMIC];case 1:return e=n.valueToCode(e,"ADD0",t.NONE)||"''",I(e);case 2:var r=n.valueToCode(e,"ADD0",t.NONE)||"''";return e=n.valueToCode(e,"ADD1",t.NONE)||"''",[I(r)[0]+" + "+I(e)[0],t.ADDITIVE];default:r=[];for(let o=0;o<e.itemCount_;o++)r[o]=n.valueToCode(e,"ADD"+o,t.NONE)||"''";return["''.join([str("+(e=n.nameDB_.getDistinctName("x",o.NameType$$module$build$src$core$names.VARIABLE))+") for "+e+" in ["+r.join(", ")+"]])",t.FUNCTION_CALL]}},text_length:function(e,n){return["len("+(n.valueToCode(e,"VALUE",t.NONE)||"''")+")",t.FUNCTION_CALL]},text_print:function(e,n){return"print("+(n.valueToCode(e,"TEXT",t.NONE)||"''")+")\n"}};p.text_prompt=l,p.text_prompt_ext=l,p.text_replace=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".replace("+(n.valueToCode(e,"FROM",t.NONE)||"''")+", "+(e=n.valueToCode(e,"TO",t.NONE)||"''")+")",t.MEMBER]},p.text_reverse=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+"[::-1]",t.MEMBER]},p.text_str_concat=function(e,n){return[`${n.valueToCode(e,"STR1",t.NONE)||"''"} + ${e=n.valueToCode(e,"STR2",t.NONE)||"''"}`,t.ATOMIC]},p.text_str_diagnosis=function(e,n){let o=n.valueToCode(e,"STR1",t.NONE)||"''",r=e.getFieldValue("SEL");switch(e=n.valueToCode(e,"STR2",t.NONE)||"''",n="",r){case"start_with":n=`${o}.startswith(${e})`;break;case"end_with":n=`${o}.endswith(${e})`;break;case"equal":n=`${o} == ${e}`}return[n,t.ATOMIC]},p.text_str_replace=function(e,n){return[`${n.valueToCode(e,"STR1",t.NONE)||"0"}.replace(${n.valueToCode(e,"STR2",t.NONE)||"0"}, ${e=n.valueToCode(e,"STR3",t.NONE)||"0"})`,t.ATOMIC]},p.text_str_res_code=function(e,n){let o=e.getFieldValue("SEL1"),r=e.getFieldValue("SEL2");return[`${n.valueToCode(e,"STR",t.NONE)||"''"}.${r}('${o}')`,t.ATOMIC]},p.text_str_split=function(e,n){return[`${n.valueToCode(e,"STR1",t.NONE)||"0"}.split(${e=n.valueToCode(e,"STR2",t.NONE)||"0"})`,t.ATOMIC]},p.text_to_char=function(e,n){return[`chr(${n.valueToCode(e,"NUMBER",t.NONE)||"0"})`,t.MEMBER]},p.text_to_number=function(e,n){return[`ord(${n.valueToCode(e,"TEXT",t.NONE)||"''"})`,t.ATOMIC]},p.text_to_string=function(e,n){return[`str(${n.valueToCode(e,"NUMBER",t.NONE)||"0"})`,t.ATOMIC]},p.text_trim=function(e,n){const o={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[e.getFieldValue("MODE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+o,t.FUNCTION_CALL]};var f={};f.variables_get=s,f.variables_set=d;var A={};A.variables_get_dynamic=s,A.variables_set_dynamic=d;var L={tuple_concat:function(e,n){return[`${n.valueToCode(e,"VALUE1",t.NONE)||"0"} + ${e=n.valueToCode(e,"VALUE2",t.NONE)||"0"}`,t.ATOMIC]},tuple_create_with:function(e,n){const o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"None";return[1===o.length?"("+o.join(", ")+",)":"("+o.join(", ")+")",t.FUNCTION_CALL]},tuple_delete:function(e,n){return`del ${n.valueToCode(e,"VALUE",t.NONE)||"0"}\n`},tuple_indexOf:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}[${e=n.valueToCode(e,"INDEX",t.NONE)||"0"}]`,t.ATOMIC]},tuple_length:function(e,n){return[`len(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},tuple_max_value:function(e,n){return n=n.valueToCode(e,"VALUE",t.NONE)||"0",[`${e.getFieldValue("TYPE")}(${n})`,t.ATOMIC]},tuple_random_item:function(e,n){return n.definitions_.import_random="import random",[`random.choice(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},tuple_serach_value:function(e,n){let o=n.valueToCode(e,"VALUE",t.NONE)||"0";return n=n.valueToCode(e,"SEARCH",t.NONE)||"0",[`${o}.${e=e.getFieldValue("TYPE")}(${n})`,t.ATOMIC]},tuple_slice:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}[${n.valueToCode(e,"START",t.NONE)||"0"} : ${e=n.valueToCode(e,"END",t.NONE)||"0"}]`,t.MEMBER]},tuple_to_tuple:function(e,n){return[`tuple(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]}},$={set_add_discard:function(e,n){return`${n.valueToCode(e,"VALUE1",t.NONE)||"0"}.${e.getFieldValue("SELECT")}(${e=n.valueToCode(e,"VALUE2",t.NONE)||"0"})\n`},set_create_with:function(e,n){const o=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)o[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"0";return n="{"+o.join(", ")+"}",0==e.itemCount_&&(n="set()"),[n,t.COLLECTION]},set_len:function(e,n){return[`len(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},set_operate:function(e,n){let o=n.valueToCode(e,"VALUE1",t.NONE)||"0";return n=n.valueToCode(e,"VALUE2",t.NONE)||"0",[`${o}.${e=e.getFieldValue("SELECT")}(${n})`,t.ATOMIC]},set_operate_update:function(e,n){let o=n.valueToCode(e,"VALUE1",t.NONE)||"0";return n=n.valueToCode(e,"VALUE2",t.NONE)||"0",`${o}.${e=e.getFieldValue("SELECT")}(${n})\n`},set_pop:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.pop()`,t.ATOMIC]},set_sub:function(e,n){let o=n.valueToCode(e,"VALUE1",t.NONE)||"0";return n=n.valueToCode(e,"VALUE2",t.NONE)||"0",[`${o}.${e=e.getFieldValue("SELECT")}(${n})`,t.ATOMIC]},set_toset:function(e,n){return[`set(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},set_update:function(e,n){return`${n.valueToCode(e,"VALUE1",t.NONE)||"0"}.update(${e=n.valueToCode(e,"VALUE2",t.NONE)||"0"})\n`}},v={colour_picker:function(e,n){return[`'${e.getFieldValue("COLOUR")}'`,t.ATOMIC]},turtle_clear:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.clear()\n`},turtle_create:function(e,n){return n.definitions_.import_turtle="import turtle",["turtle.Turtle()\n",t.ATOMIC]},turtle_draw_circle:function(e,n){n.definitions_.import_turtle="import turtle";let o=n.valueToCode(e,"VALUE",t.NONE)||"0",r=n.valueToCode(e,"radius",t.NONE)||"0",i=n.valueToCode(e,"extent",t.NONE)||"0";return e=n.valueToCode(e,"steps",t.NONE)||"0",n="",0!==+r&&(n+=r),0!==+i&&(n+=`, ${i}`),0!==+e&&(n+=`, ${e}`),`${o}.circle(${n})\n`},turtle_draw_point:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.dot(${e=n.valueToCode(e,"diameter",t.NONE)||"0"})\n`},turtle_draw_polygon:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.circle(${n.valueToCode(e,"num_sides",t.NONE)||"0"}, steps=${e=n.valueToCode(e,"radius",t.NONE)||"0"})\n`},turtle_get_position:function(e,n){return n.definitions_.import_turtle="import turtle",[`${n=n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e=e.getFieldValue("coordinate")}()\n`,t.ATOMIC]},turtle_move:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e.getFieldValue("direction")}(${e=n.valueToCode(e,"distance",t.NONE)||"0"})\n`},turtle_move_xy:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.goto(${n.valueToCode(e,"x",t.NONE)||"0"}, ${e=n.valueToCode(e,"y",t.NONE)||"0"})\n`},turtle_pendown:function(e,n){return n.definitions_.import_turtle="import turtle",`${n=n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e=e.getFieldValue("direction")}()\n`},turtle_rotate:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e.getFieldValue("direction")}(${e=n.valueToCode(e,"angle",t.NONE)||"0"})\n`},turtle_set_bgcolor:function(e,n){return n.definitions_.import_turtle="import turtle",`turtle.bgcolor(${n.valueToCode(e,"COLOUR",t.NONE)||"0"})\n`},turtle_set_color:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.color(${e=n.valueToCode(e,"COLOUR",t.NONE)||"0"})\n`},turtle_set_colormode:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.colormode(${e=n.valueToCode(e,"COLOUR",t.NONE)||"0"})\n`},turtle_set_fill:function(e,n){return n.definitions_.import_turtle="import turtle",`${n=n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e=e.getFieldValue("direction")}()\n`},turtle_set_fillcolor:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.fillcolor(${e=n.valueToCode(e,"COLOUR",t.NONE)||"0"})\n`},turtle_set_heading:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.setheading(${e=n.valueToCode(e,"angle",t.NONE)||"0"})\n`},turtle_set_pencolor:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.pencolor(${e=n.valueToCode(e,"COLOUR",t.NONE)||"0"})\n`},turtle_set_pensize:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.pensize(${e=n.valueToCode(e,"size",t.NONE)||"0"})\n`},turtle_set_position:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e.getFieldValue("coordinate")}(${e=n.valueToCode(e,"position",t.NONE)||"0"})\n`},turtle_set_speed:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.speed(${e=n.valueToCode(e,"speed",t.NONE)||"0"})\n`},turtle_show_hide:function(e,n){return n.definitions_.import_turtle="import turtle",`${n=n.valueToCode(e,"VALUE",t.NONE)||"0"}.${e=e.getFieldValue("direction")}()\n`},turtle_stop:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.done()\n`},turtle_write:function(e,n){return n.definitions_.import_turtle="import turtle",`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.write(${e=n.valueToCode(e,"text",t.NONE)||"0"})\n`}},h={motion_hit:function(e,t){return"\n"},motion_move:function(e,t){return"\n"},motion_rotate:function(e,t){return`Game.planeRotate(${{direction:e.getFieldValue("ROTATE")}})\n`}},R={serial_any:function(e,n){return n.definitions_.import_machine="import machine",[`${e.getFieldValue("variable")}.any()\n`,t.ATOMIC]},serial_init:function(e,n){n.definitions_.import_machine="import machine";let o=e.getFieldValue("variable"),r=n.valueToCode(e,"RX",t.NONE)||0;return`${o} = machine.UART(1, tx=${n=n.valueToCode(e,"TX",t.NONE)||0}, rx=${r}, baudrate=${e=e.getFieldValue("baudrate")})\n`},serial_output:function(e,n){return n.definitions_.import_machine="import machine",`${e.getFieldValue("variable")}.write(${e=n.valueToCode(e,"TEXT",t.NONE)||"''"})\n`},serial_print:function(e,n){return n.definitions_.import_machine="import machine",`${e.getFieldValue("variable")}.write(str(${e=n.valueToCode(e,"TEXT",t.NONE)||"''"}))\n`},serial_println:function(e,n){return n.definitions_.import_machine="import machine",`${e.getFieldValue("variable")}.write(str(${e=n.valueToCode(e,"TEXT",t.NONE)||"''"})+'\\r\\n')\n`},serial_println_radix:function(e,n){return n.definitions_.import_machine="import machine",`${e.getFieldValue("variable")}.write(str(${e.getFieldValue("radix")}(${e=n.valueToCode(e,"TEXT",t.NONE)||"''"}))+'\\r\\n')\n`},serial_read:function(e,n){return n.definitions_.import_machine="import machine",[`${e.getFieldValue("variable")}.read()\n`,t.ATOMIC]},serial_read_others:function(e,n){return n.definitions_.import_uart_com="import uart_com",[`uart_com.recv(${e.getFieldValue("variable")})\n`,t.ATOMIC]},serial_readline:function(e,n){return n.definitions_.import_machine="import machine",[`${e.getFieldValue("variable")}.read()\n`,t.ATOMIC]},serial_send_msg:function(e,t){return t.definitions_.import_uart_com="import uart_com",`uart_com.send(${t=e.getFieldValue("variable")}, ${e.getFieldValue("codes")}, repeat=${e=e.getFieldValue("repeat")})\n`}},g={file_chdir:function(e,n){return n.definitions_.import_os="import os",`os.chdir(${n.valueToCode(e,"TEXT",t.NONE)||"''"})\n`},file_close:function(e,n){return n.definitions_.import_os="import os",`${n.valueToCode(e,"TEXT",t.NONE)||"''"}.close()\n`},file_get_name:function(e,n){return n.definitions_.import_os="import os",[`${n.valueToCode(e,"TEXT",t.NONE)||"''"}.name()\n`,t.ATOMIC]},file_getcwd:function(e,n){return n.definitions_.import_os="import os",["os.getcwd()\n",t.ATOMIC]},file_is_writable:function(e,n){return n.definitions_.import_os="import os",[`${n.valueToCode(e,"TEXT",t.NONE)||"''"}.writable()\n`,t.ATOMIC]},file_listdir:function(e,n){return n.definitions_.import_os="import os",["os.listdir()\n",t.ATOMIC]},file_mkdir:function(e,n){return n.definitions_.import_os="import os",n=n.valueToCode(e,"TEXT",t.NONE)||"''",`os.${e.getFieldValue("type")}(${n})\n`},file_remove:function(e,n){return n.definitions_.import_os="import os",n=n.valueToCode(e,"TEXT",t.NONE)||"''",`os.${e.getFieldValue("type")}(${n})\n`},file_rename:function(e,n){return n.definitions_.import_os="import os",`os.rename(${n.valueToCode(e,"OLD",t.NONE)||"''"}, ${e=n.valueToCode(e,"NEW",t.NONE)||"''"})\n`},file_seek:function(e,n){n.definitions_.import_os="import os";let o=n.valueToCode(e,"TEXT",t.NONE)||"''",r=e.getFieldValue("type");return`${o}.seek(${e=n.valueToCode(e,"POSITION",t.NONE)}, ${r})\n`},file_tell:function(e,n){return n.definitions_.import_os="import os",[`${n.valueToCode(e,"TEXT",t.NONE)||"''"}.tell()\n`,t.ATOMIC]}},F={dicts_add_or_change:function(e,n){return`${n.valueToCode(e,"VALUE",t.NONE)||"0"}[${n.valueToCode(e,"KEY",t.NONE)||"0"}] = ${e=n.valueToCode(e,"VALUE1",t.NONE)||"0"}\n`},dicts_clear:function(e,n){return`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.clear()\n`},dicts_create_with:function(e,n){const o=Array(e.itemCount_);let r;for(let i=0;i<e.itemCount_;i++)r=e.getFieldValue("KEY"+i),o[i]=r+":"+(n.valueToCode(e,"ADD"+i,t.NONE)||0);return["{"+o.join(", ")+"}",t.COLLECTION]},dicts_deldict:function(e,n){return`del ${n.valueToCode(e,"VALUE",t.NONE)||"0"}\n`},dicts_delete:function(e,n){return`del ${n.valueToCode(e,"VALUE",t.NONE)||"0"}[${e=n.valueToCode(e,"KEY",t.NONE)||"0"}]\n`},dicts_get:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}[${e=n.valueToCode(e,"KEY",t.NONE)||"0"}]`,t.ATOMIC]},dicts_get_default:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.get(${n.valueToCode(e,"KEY",t.NONE)||"0"}, ${e=n.valueToCode(e,"DEFAULT",t.NONE)||"0"})`,t.ATOMIC]},dicts_keys:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.keys()`,t.ATOMIC]},dicts_length:function(e,n){return[`len(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},dicts_pop:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.pop(${e=n.valueToCode(e,"KEY",t.NONE)||"0"})`,t.ATOMIC]},dicts_setdefault:function(e,n){return`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.setdefault(${n.valueToCode(e,"KEY",t.NONE)||"0"}, ${e=n.valueToCode(e,"DEFAULT",t.NONE)||"0"})\n`},dicts_to_json:function(e,n){return n.definitions_.import_json="import json",[`json.dumps(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},dicts_todict:function(e,n){return[`dict(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]},dicts_values:function(e,n){return[`${n.valueToCode(e,"VALUE",t.NONE)||"0"}.values()`,t.ATOMIC]},json_to_dicts:function(e,n){return n.definitions_.import_json="import json",[`json.loads(${n.valueToCode(e,"VALUE",t.NONE)||"0"})`,t.ATOMIC]}},M={io_in_get:function(e,n){return n.definitions_.import_machine="import machine",[`${n.valueToCode(e,"PIN",t.NONE)||"0"}.read_u16()\n`,t.NONE]},io_in_voltage:function(e,n){return n.definitions_.import_machine="import machine",`${n=n.valueToCode(e,"PIN",t.NONE)||"0"}.atten(machine.ADC.${e=e.getFieldValue("VOLTAGE")})\n`},io_init_pin:function(e,n){n.definitions_.import_machine="import machine";let o=n.valueToCode(e,"PIN",t.MEMBER)||"''",r=e.getFieldValue("OPTION");return e=n.valueToCode(e,"NUM",t.NONE)||"0",n="","OUT"===r?n="machine.Pin.OUT":"IN"===r?n="machine.Pin.IN":"PULL_UP"===r?n="machine.Pin.IN, machine.Pin.PULL_UP":"PULL_DOWN"===r&&(n="machine.Pin.IN, machine.Pin.PULL_DOWN"),`${o.replace(/'/g,"")} = machine.Pin(${e}, ${n})\n`},io_init_pin_in:function(e,n){n.definitions_.import_machine="import machine";let o=n.valueToCode(e,"PIN",t.NONE)||"0";return e=n.valueToCode(e,"NUM",t.NONE)||"0",`${o.replace(/'/g,"")} = machine.ADC(machine.Pin(${e}))\n`},io_init_pwmout_set:function(e,n){return n.definitions_.import_machine="import machine",n=n.valueToCode(e,"PIN",t.NONE)||"0",e=e.getFieldValue("RATE"),`${n.replace(/'/g,"")} = machine.PWM(machine.Pin(${e}))\n`},io_init_touch_sensor_set:function(e,n){n.definitions_.import_machine="import machine";let o=n.valueToCode(e,"PIN",t.NONE)||"0";return e=n.valueToCode(e,"TATE",t.NONE)||"0",`${o.replace(/'/g,"")} = machine.TouchPad(machine.Pin(${e}))\n`},io_pin:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_pinin_set:function(e,n){return n.definitions_.import_machine="import machine",[`${n.valueToCode(e,"PIN",t.NONE)||"0"}.value()\n`,t.NONE]},io_pinout_set:function(e,n){return n.definitions_.import_machine="import machine",`${n.valueToCode(e,"PIN",t.NONE)||"0"}.value(${e=n.valueToCode(e,"RATE",t.NONE)||"0"})\n`},io_pinpro:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_pinpwm:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_pintc:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_pinvar:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_pwmout_rate_set:function(e,n){return n.definitions_.import_machine="import machine",`${n.valueToCode(e,"PIN",t.NONE)||"0"}.freq(${e=n.valueToCode(e,"RATE",t.NONE)||"0"})\n`},io_pwmout_set:function(e,n){return n.definitions_.import_machine="import machine",`${n.valueToCode(e,"PIN",t.NONE)||"0"}.duty_u16(${e=n.valueToCode(e,"RATE",t.NONE)||"0"})\n`},io_rate:function(e,n){return[e.getFieldValue("RATE"),t.NONE]},io_stop:function(e,n){n.definitions_.import_machine="import machine";let o=n.valueToCode(e,"PIN",t.NONE)||"0",r=e.getFieldValue("DIR");return e=n.valueToCode(e,"FUNC",t.NONE)||"0",n="","IRQ_RISING"===r?n="machine.Pin.IRQ_RISING":"IRQ_FALLING"===r?n="machine.Pin.IRQ_FALLING":"ALL"===r&&(n="(machine.Pin.IRQ_RISING | machine.Pin.IRQ_FALLING)"),`machine.Pin(${o}).irq(hander = ${e.replace(/'/g,"")}, trigger = ${n})\n`},io_touch_sensor_get:function(e,n){return n.definitions_.import_machine="import machine",[`${e.getFieldValue("RATE")}.read()\n`,t.NONE]}},V=new N;V.addReservedWords("math,random,Number");var U=Object.assign({},T,_,c,m,O,p,f,A,L,$,v,h,R,g,F,M);for(const e in U)V.forBlock[e]=U[e];var S={};S.Order=t,S.PythonGenerator=N,S.pythonGenerator=V;return S.__namespace__=o,S});