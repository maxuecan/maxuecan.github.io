/* empty css                  */import{_ as y,E as T,A as m,b as f,q as g,B as F,o as u,e as s,F as b,i as v,C as _,n as p,t as w,D as k,G as B}from"./platForm.b6da2c16.js";var C=!0;const L={name:"colorPicker",data(){return{pickId:"",colorTabList:["\u57FA\u672C\u989C\u8272","\u66F4\u591A\u989C\u8272"],activeTab:0,recentColorList:["#548dd4","#366092","#000"],colorList:[["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],["#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada"],["#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5"],["#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f"],["#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09"],["#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806"],["#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"]],colorInput:"#555",colorInputRgb:[85,85,85],colorInputHsv:[],colorBgState:!1,colorBarTop:0,colorBarLeft:0,sliderState:!1,startY:0,offsetY:0,Hval:0,Sval:100,Vval:100,siderBarTop:0,curColor:[255,0,0],curSliderColor:[255,0,0]}},methods:{popoverShow(){this.recentColorList=localStorage.getItem("recentColor").split(",")},handleActiveTabChange(t){this.activeTab=t},debounce(t,o=200){let i=null;return function(...c){C?(t.apply(this,c),C=!1):(i&&(clearTimeout(i),i=null),i=setTimeout(function(){t.apply(this,c)},o))}},silderBarDown(t){this.sliderState=!0,this.Sval=100,this.Vval=100,t.target!=$(`.silderBar_${this.pickId}`)[0]&&this.setSlilderColor(t.offsetY)},silderBarMove(t){!this.sliderState||this.debounce(()=>{t.target!=$(`.silderBar_${this.pickId}`)[0]&&this.setSlilderColor(t.offsetY)},200)()},sliderBarUp(){this.sliderState=!1,C=!0},setSlilderColor(t){this.siderBarTop=t-3,this.offsetY=t/150,this.Hval=360*this.offsetY,this.curColor=this.hsvtorgb(this.Hval,this.Sval,this.Vval),this.curSliderColor=this.curColor,this.colorInput=this.setRgbTo16(this.curColor)},colorBarDown(t){this.colorBgState=!0,t.target!=$(`.colorBarTarget_${this.pickId}`)[0]&&t.target!=$(`.colorBarTarget_${this.pickId}`)[1]&&this.setColor(t.offsetX,t.offsetY)},colorBarMove(t){!this.colorBgState||this.debounce(()=>{t.target!=$(`.colorBarTarget_${this.pickId}`)[0]&&t.target!=$(`.colorBarTarget_${this.pickId}`)[1]&&this.setColor(t.offsetX,t.offsetY)},200)()},colorBarUp(){this.colorBgState=!1,C=!0},setColor(t,o){this.colorBarTop=o-4,this.colorBarLeft=t-4,this.Sval=t/185*100,this.Vval=(1-o/150)*100,this.curColor=this.hsvtorgb(this.Hval,this.Sval,this.Vval),this.colorInput=this.setRgbTo16(this.curColor)},handleClearColor(){this.$emit("changeColor",""),this.$refs[`popoverRef_${this.pickId}`].doClose()},handleCheckColor(t){let o=t.currentTarget.dataset.color;this.handleSubmitColor(o)},handleConfirmColor(){var t=/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/;t.test(this.colorInput)&&this.handleSubmitColor(this.colorInput)},handleSubmitColor(t){this.recentColorList.unshift(t),this.recentColorList=Array.from(new Set(this.recentColorList)),this.recentColorList.length>8&&(this.recentColorList=this.recentColorList.slice(0,8)),localStorage.setItem("recentColor",this.recentColorList),this.$emit("changeColor",t),this.$refs[`popoverRef_${this.pickId}`].doClose()},handleInputChange(t){console.log(t);var o=/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/;o.test(t)&&(this.curColor=this.set16ToRgb(t),this.colorInputHsv=this.rgbtohsv(this.curColor),this.curSliderColor=this.curColor,this.Hval=this.colorInputHsv[0],this.Sval=this.colorInputHsv[1],this.Vval=this.colorInputHsv[2],this.siderBarTop=this.Hval*15/36-3,this.colorBarLeft=185*this.Sval/100-4,this.colorBarTop=(1-this.Vval/100)*150-4)},hsvtorgb(t,o,i){o=o/100,i=i/100;var c=Math.floor(t/60)%6,e=t/60-c,r=i*(1-o),h=i*(1-e*o),n=i*(1-(1-e)*o),l,a,d;switch(c){case 0:l=i,a=n,d=r;break;case 1:l=h,a=i,d=r;break;case 2:l=r,a=i,d=n;break;case 3:l=r,a=h,d=i;break;case 4:l=n,a=r,d=i;break;case 5:l=i,a=r,d=h;break}return[Math.round(l*255),Math.round(a*255),Math.round(d*255)]},rgbtohsv(t){var o=0,i=0,c=0,e=t[0],r=t[1],h=t[2];t.sort(function(a,d){return a-d});var n=t[2],l=t[0];return c=n/255,n===0?i=0:i=1-l/n,n===l?o=0:n===e&&r>=h?o=60*((r-h)/(n-l))+0:n===e&&r<h?o=60*((r-h)/(n-l))+360:n===r?o=60*((h-e)/(n-l))+120:n===h&&(o=60*((e-r)/(n-l))+240),o=parseInt(o),i=parseInt(i*100),c=parseInt(c*100),[o,i,c]},set16ToRgb(t){let o=t.toLowerCase().replace(/\#/g,""),i=o.length;if(i==3){let r="";for(var c=0;c<i;c++)r+=o.slice(c,c+1).concat(o.slice(c,c+1));o=r}let e=[];for(var c=0;c<6;c=c+2){let h=o.slice(c,c+2);e.push(parseInt("0x"+h))}return e},setRgbTo16(t){let o="#";for(var i=0;i<t.length;i++){var c=Number(t[i]).toString(16);Number(t[i])<16&&(c="0"+c),o+=c}return o}},computed:{},created(){this.pickId=Math.random().toString(36).slice(-10)},watch:{},mounted(){},props:{iconClass:{type:String,default:"iconzitiyanse"},iconTitle:{type:String,default:"\u989C\u8272"}}},M={class:"colorPicker"},x={class:"color_content"},V=s("span",{class:"color_title"},"\u6700\u8FD1\u4F7F\u7528\u989C\u8272",-1),H={class:"recentCo_ul"},U=["data-color","title"],D={class:"color_tab"},R=["onClick"],A={class:"edui-box ue_colortable edui-default colorTable",style:{"border-collapse":"collapse"},cellspacing:"0",cellpadding:"0"},Y={class:"edui-default"},P=["title","data-color"],E=s("tr",null,null,-1),G={class:"picker_svg"},N={id:"back_svg"},z=["fill"],q=["fill"],X=["id"],j=s("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"},null,-1),J=["stop-color"],K=["id"],O=s("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"},null,-1),Q=["stop-color"],W={id:"hsv_svg"},Z=["fill"],oo=["id"],to=s("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"},null,-1),eo=s("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"},null,-1),ro=s("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"},null,-1),lo=s("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"},null,-1),so=s("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"},null,-1),io=s("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"},null,-1),co=s("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"},null,-1),ao=s("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"},null,-1),no=s("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"},null,-1),ho=[to,eo,ro,lo,so,io,co,ao,no],fo={class:"colorPick_bottom"},uo={class:"color_input"},po={slot:"reference"},_o=["title"];function bo(t,o,i,c,e,r){const h=T,n=m;return u(),f("div",M,[g(n,{placement:"bottom",popperClass:"colorPopper",ref:`popoverRef_${e.pickId}`,width:"240",trigger:"click",onShow:r.popoverShow},{default:F(()=>[s("div",x,[V,s("ul",H,[s("li",{class:"recentCo_li recentCo_first",title:"\u6E05\u9664\u989C\u8272",onClick:o[0]||(o[0]=(...l)=>r.handleClearColor&&r.handleClearColor(...l))}),(u(!0),f(b,null,v(e.recentColorList,(l,a)=>(u(),f("li",{class:"recentCo_li cursor",key:a,style:_(`background:${l}`),"data-color":`${l}`,title:`${l}`,onClick:o[1]||(o[1]=(...d)=>r.handleCheckColor&&r.handleCheckColor(...d))},null,12,U))),128))]),s("ul",D,[(u(!0),f(b,null,v(e.colorTabList,(l,a)=>(u(),f("li",{class:p(["colorTab_li",e.activeTab==a?"-activeTab":""]),onClick:d=>r.handleActiveTabChange(a),key:a},w(l),11,R))),128))]),k(s("table",A,[s("tbody",Y,[(u(!0),f(b,null,v(e.colorList,(l,a)=>(u(),f("tr",{class:p(["edui-default",{"edui-colorpicker-tablefirstrow":a==0||a==e.colorList.length-1}]),key:a},[(u(!0),f(b,null,v(l,(d,S)=>(u(),f("td",{class:"edui-default pr-4",key:S},[s("a",{hidefocus:"",title:d,onclick:"return false;",href:"javascript:",unselectable:"on",class:p(["edui-box edui-colorpicker-colorcell edui-default",a==0||a==e.colorList.length-1||a==e.colorList.length-2?"isFirst":"noFirst"]),"data-color":`${d}`,style:_(`background:${d};`),onClick:o[2]||(o[2]=(...I)=>r.handleCheckColor&&r.handleCheckColor(...I))},null,14,P)]))),128))],2))),128)),E])],512),[[B,e.activeTab==0]]),k(s("div",G,[s("div",{class:"colorBack",onMousedown:o[3]||(o[3]=(...l)=>r.colorBarDown&&r.colorBarDown(...l)),onMousemove:o[4]||(o[4]=(...l)=>r.colorBarMove&&r.colorBarMove(...l)),onMouseup:o[5]||(o[5]=(...l)=>r.colorBarUp&&r.colorBarUp(...l)),onMouseleave:o[6]||(o[6]=(...l)=>r.colorBarUp&&r.colorBarUp(...l)),style:_(`background:rgb(${e.curSliderColor[0]},${e.curSliderColor[1]},${e.curSliderColor[2]})`)},[(u(),f("svg",N,[s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#gradient-white${e.pickId})`},null,8,z),s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#gradient-black${e.pickId})`},null,8,q),s("defs",null,[s("linearGradient",{id:`gradient-black${e.pickId}`,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[j,s("stop",{offset:"100%","stop-color":`rgb(${e.curSliderColor[0]},${e.curSliderColor[1]},${e.curSliderColor[2]})`,"stop-opacity":"0"},null,8,J)],8,X),s("linearGradient",{id:`gradient-white${e.pickId}`,x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[O,s("stop",{offset:"100%","stop-color":`rgb(${e.curSliderColor[0]},${e.curSliderColor[1]},${e.curSliderColor[2]})`,"stop-opacity":"0"},null,8,Q)],8,K)])])),s("div",{class:p(["colorBar colorBarTarget",`colorBarTarget_${e.pickId}`]),style:_(`top:${e.colorBarTop}px;left:${e.colorBarLeft}px`)},[s("div",{class:p(["colorBarTarget",`colorBarTarget_${e.pickId}`])},null,2)],6)],36),s("div",{class:"colorSilder",ref:"slider",onMousedown:o[7]||(o[7]=(...l)=>r.silderBarDown&&r.silderBarDown(...l)),onMousemove:o[8]||(o[8]=(...l)=>r.silderBarMove&&r.silderBarMove(...l)),onMouseup:o[9]||(o[9]=(...l)=>r.sliderBarUp&&r.sliderBarUp(...l)),onMouseleave:o[10]||(o[10]=(...l)=>r.sliderBarUp&&r.sliderBarUp(...l))},[(u(),f("svg",W,[s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#gradient-hsv${e.pickId})`},null,8,Z),s("linearGradient",{id:`gradient-hsv${e.pickId}`,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},ho,8,oo)])),s("div",{class:p(["silderBar",`silderBar_${e.pickId}`]),style:_(`top:${e.siderBarTop}px`)},null,6)],544)],512),[[B,e.activeTab==1]]),s("div",fo,[s("div",{class:"color_div",style:_(`background:${e.colorInput}`)},null,4),s("div",uo,[g(h,{class:"",modelValue:e.colorInput,"onUpdate:modelValue":o[11]||(o[11]=l=>e.colorInput=l),onInput:r.handleInputChange},null,8,["modelValue","onInput"])]),s("button",{class:"color_btn",onClick:o[12]||(o[12]=(...l)=>r.handleConfirmColor&&r.handleConfirmColor(...l))},"\u786E\u5B9A")])]),s("div",po,[s("i",{class:p(["iconfont iconStyle",i.iconClass]),title:i.iconTitle},null,10,_o)])]),_:1},8,["onShow"])])}var go=y(L,[["render",bo]]);export{go as default};
//# sourceMappingURL=index.8635a612.js.map
