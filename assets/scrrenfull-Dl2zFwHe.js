import{h as f,c as m,a as o,o as d}from"./index-BNrLSEyR.js";const i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c=(()=>{if(typeof document>"u")return!1;const e=i[0],r={};for(const n of i)if(n?.[1]in document){for(const[t,u]of n.entries())r[e[t]]=u;return r}return!1})(),a={change:c.fullscreenchange,error:c.fullscreenerror};let l={request(e=document.documentElement,r){return new Promise((n,s)=>{const t=()=>{l.off("change",t),n()};l.on("change",t);const u=e[c.requestFullscreen](r);u instanceof Promise&&u.then(t).catch(s)})},exit(){return new Promise((e,r)=>{if(!l.isFullscreen){e();return}const n=()=>{l.off("change",n),e()};l.on("change",n);const s=document[c.exitFullscreen]();s instanceof Promise&&s.then(n).catch(r)})},toggle(e,r){return l.isFullscreen?l.exit():l.request(e,r)},onchange(e){l.on("change",e)},onerror(e){l.on("error",e)},on(e,r){const n=a[e];n&&document.addEventListener(n,r,!1)},off(e,r){const n=a[e];n&&document.removeEventListener(n,r,!1)},raw:c};Object.defineProperties(l,{isFullscreen:{get:()=>!!document[c.fullscreenElement]},element:{enumerable:!0,get:()=>document[c.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[c.fullscreenEnabled]}});c||(l={isEnabled:!1});const g={__name:"scrrenfull",setup(e){const r=f(!1);function n(s){if(r.value=s,s){if(!l.isEnabled){ElMessage({message:"全屏不可用",type:"warning"});return}l.toggle()}else l.toggle()}return(s,t)=>(d(),m("div",null,[t[2]||(t[2]=o("h1",null,"screenfull插件使用",-1)),o("button",{onClick:t[0]||(t[0]=u=>n(!0))},"全屏"),o("button",{onClick:t[1]||(t[1]=u=>n(!1))},"退出全屏")]))}};export{g as default};
