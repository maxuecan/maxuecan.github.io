var tn=Object.defineProperty,en=Object.defineProperties;var nn=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var sn=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable;var D=Math.pow,me=(n,t,e)=>t in n?tn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,W=(n,t)=>{for(var e in t||(t={}))sn.call(t,e)&&me(n,e,t[e]);if(pe)for(var e of pe(t))rn.call(t,e)&&me(n,e,t[e]);return n},Mt=(n,t)=>en(n,nn(t));import{k as on,b as hn,o as un,e as an}from"./platForm.b6da2c16.js";const Lt={},ve=[];function p(n,t){if(Array.isArray(n)){for(const e of n)p(e,t);return}if(typeof n=="object"){for(const e in n)p(e,n[e]);return}Me(Object.getOwnPropertyNames(t)),Lt[n]=Object.assign(Lt[n]||{},t)}function E(n){return Lt[n]||{}}function cn(){return[...new Set(ve)]}function Me(n){ve.push(...n)}function Qt(n,t){let e;const i=n.length,s=[];for(e=0;e<i;e++)s.push(t(n[e]));return s}function ln(n,t){let e;const i=n.length,s=[];for(e=0;e<i;e++)t(n[e])&&s.push(n[e]);return s}function It(n){return n%360*Math.PI/180}function fn(n){return n.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function Te(n){return n.charAt(0).toUpperCase()+n.slice(1)}function ot(n,t,e,i){return(t==null||e==null)&&(i=i||n.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function qt(n,t){const e=n.origin;let i=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",s=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";e!=null&&([i,s]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof i=="string",h=typeof s=="string";if(r||h){const{height:o,width:u,x:a,y:c}=t.bbox();r&&(i=i.includes("left")?a:i.includes("right")?a+u:a+u/2),h&&(s=s.includes("top")?c:s.includes("bottom")?c+o:c+o/2)}return[i,s]}const dn=new Set(["desc","metadata","title"]),Ft=n=>dn.has(n.nodeName),ke=(n,t,e={})=>{const i=W({},t);for(const s in i)i[s].valueOf()===e[s]&&delete i[s];Object.keys(i).length?n.node.setAttribute("data-svgjs",JSON.stringify(i)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},Jt="http://www.w3.org/2000/svg",pn="http://www.w3.org/1999/xhtml",Dt="http://www.w3.org/2000/xmlns/",mt="http://www.w3.org/1999/xlink",g={window:typeof window=="undefined"?null:window,document:typeof document=="undefined"?null:document};function mn(){return g.window}class Zt{}const Z={},Kt="___SYMBOL___ROOT___";function lt(n,t=Jt){return g.document.createElementNS(t,n)}function C(n,t=!1){if(n instanceof Zt)return n;if(typeof n=="object")return zt(n);if(n==null)return new Z[Kt];if(typeof n=="string"&&n.charAt(0)!=="<")return zt(g.document.querySelector(n));const e=t?g.document.createElement("div"):lt("svg");return e.innerHTML=n,n=zt(e.firstChild),e.removeChild(e.firstChild),n}function M(n,t){return t&&(t instanceof g.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:lt(n)}function R(n){if(!n)return null;if(n.instance instanceof Zt)return n.instance;if(n.nodeName==="#document-fragment")return new Z.Fragment(n);let t=Te(n.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Z[t]||(t="Dom"),new Z[t](n)}let zt=R;function y(n,t=n.name,e=!1){return Z[t]=n,e&&(Z[Kt]=n),Me(Object.getOwnPropertyNames(n.prototype)),n}function gn(n){return Z[n]}let yn=1e3;function Ae(n){return"Svgjs"+Te(n)+yn++}function Se(n){for(let t=n.children.length-1;t>=0;t--)Se(n.children[t]);return n.id&&(n.id=Ae(n.nodeName)),n}function m(n,t){let e,i;for(n=Array.isArray(n)?n:[n],i=n.length-1;i>=0;i--)for(e in t)n[i].prototype[e]=t[e]}function v(n){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?n.apply(this,t.slice(0,-1)).attr(e):n.apply(this,t)}}function wn(){return this.parent().children()}function _n(){return this.parent().index(this)}function bn(){return this.siblings()[this.position()+1]}function xn(){return this.siblings()[this.position()-1]}function vn(){const n=this.position();return this.parent().add(this.remove(),n+1),this}function Mn(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this}function Tn(){return this.parent().add(this.remove()),this}function kn(){return this.parent().add(this.remove(),0),this}function An(n){n=C(n),n.remove();const t=this.position();return this.parent().add(n,t),this}function Sn(n){n=C(n),n.remove();const t=this.position();return this.parent().add(n,t+1),this}function On(n){return n=C(n),n.before(this),this}function Nn(n){return n=C(n),n.after(this),this}p("Dom",{siblings:wn,position:_n,next:bn,prev:xn,forward:vn,backward:Mn,front:Tn,back:kn,before:An,after:Sn,insertBefore:On,insertAfter:Nn});const Oe=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Cn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,En=/rgb\((\d+),(\d+),(\d+)\)/,In=/(#[a-z_][a-z0-9\-_]*)/i,Dn=/\)\s*,?\s*/,zn=/\s/g,ge=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ye=/^rgb\(/,we=/^(\s+)?$/,_e=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jn=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Y=/[\s,]+/,te=/[MLHVCSQTAZ]/i;function Pn(){const n=this.attr("class");return n==null?[]:n.trim().split(Y)}function Rn(n){return this.classes().indexOf(n)!==-1}function Ln(n){if(!this.hasClass(n)){const t=this.classes();t.push(n),this.attr("class",t.join(" "))}return this}function qn(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(t){return t!==n}).join(" ")),this}function Fn(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}p("Dom",{classes:Pn,hasClass:Rn,addClass:Ln,removeClass:qn,toggleClass:Fn});function $n(n,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const s=i.split(/\s*:\s*/);e[s[0]]=s[1]}),e;if(arguments.length<2){if(Array.isArray(n)){for(const i of n){const s=i;e[i]=this.node.style.getPropertyValue(s)}return e}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const i in n)this.node.style.setProperty(i,n[i]==null||we.test(n[i])?"":n[i])}return arguments.length===2&&this.node.style.setProperty(n,t==null||we.test(t)?"":t),this}function Yn(){return this.css("display","")}function Bn(){return this.css("display","none")}function Hn(){return this.css("display")!=="none"}p("Dom",{css:$n,show:Yn,hide:Bn,visible:Hn});function Un(n,t,e){if(n==null)return this.data(Qt(ln(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(n instanceof Array){const i={};for(const s of n)i[s]=this.data(s);return i}else if(typeof n=="object")for(t in n)this.data(t,n[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch(i){return this.attr("data-"+n)}else this.attr("data-"+n,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}p("Dom",{data:Un});function Xn(n,t){if(typeof arguments[0]=="object")for(const e in n)this.remember(e,n[e]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=t}return this}function Gn(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this}function Vn(){return this._memory=this._memory||{}}p("Dom",{remember:Xn,forget:Gn,memory:Vn});function Wn(n){return n.length===4?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n}function Qn(n){const t=Math.round(n),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function et(n,t){for(let e=t.length;e--;)if(n[t[e]]==null)return!1;return!0}function Jn(n,t){const e=et(n,"rgb")?{_a:n.r,_b:n.g,_c:n.b,_d:0,space:"rgb"}:et(n,"xyz")?{_a:n.x,_b:n.y,_c:n.z,_d:0,space:"xyz"}:et(n,"hsl")?{_a:n.h,_b:n.s,_c:n.l,_d:0,space:"hsl"}:et(n,"lab")?{_a:n.l,_b:n.a,_c:n.b,_d:0,space:"lab"}:et(n,"lch")?{_a:n.l,_b:n.c,_c:n.h,_d:0,space:"lch"}:et(n,"cmyk")?{_a:n.c,_b:n.m,_c:n.y,_d:n.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function Zn(n){return n==="lab"||n==="xyz"||n==="lch"}function jt(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}class b{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof b||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:s,sin:r,PI:h}=Math;if(t==="vibrant"){const o=24*i()+57,u=(83-45)*i()+45,a=360*i();return new b(o,u,a,"lch")}else if(t==="sine"){e=e==null?i():e;const o=s(80*r(2*h*e/.5+.01)+150),u=s(50*r(2*h*e/.5+4.6)+200),a=s(100*r(2*h*e/.5+2.3)+150);return new b(o,u,a)}else if(t==="pastel"){const o=8*i()+86,u=(26-9)*i()+9,a=360*i();return new b(o,u,a,"lch")}else if(t==="dark"){const o=10+10*i(),u=(125-75)*i()+86,a=360*i();return new b(o,u,a,"lch")}else if(t==="rgb"){const o=255*i(),u=255*i(),a=255*i();return new b(o,u,a)}else if(t==="lab"){const o=100*i(),u=256*i()-128,a=256*i()-128;return new b(o,u,a,"lab")}else if(t==="grey"){const o=255*i();return new b(o,o,o)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(ge.test(t)||ye.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,r,h]=[t,e,i].map(w=>w/255),o=Math.min(1-s,1-r,1-h);if(o===1)return new b(0,0,0,1,"cmyk");const u=(1-s-o)/(1-o),a=(1-r-o)/(1-o),c=(1-h-o)/(1-o);return new b(u,a,c,o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,r,h]=[t,e,i].map(A=>A/255),o=Math.max(s,r,h),u=Math.min(s,r,h),a=(o+u)/2,c=o===u,l=o-u,w=c?0:a>.5?l/(2-o-u):l/(o+u),x=c?0:o===s?((r-h)/l+(r<h?6:0))/6:o===r?((h-s)/l+2)/6:o===h?((s-r)/l+4)/6:0;return new b(360*x,100*w,100*a,"hsl")}init(t=0,e=0,i=0,s=0,r="rgb"){if(t=t||0,this.space)for(const l in this.space)delete this[this.space[l]];if(typeof t=="number")r=typeof s=="string"?s:r,s=typeof s=="string"?0:s,Object.assign(this,{_a:t,_b:e,_c:i,_d:s,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const l=Jn(t,e);Object.assign(this,l)}else if(typeof t=="string")if(ye.test(t)){const l=t.replace(zn,""),[w,x,k]=En.exec(l).slice(1,4).map(A=>parseInt(A));Object.assign(this,{_a:w,_b:x,_c:k,_d:0,space:"rgb"})}else if(ge.test(t)){const l=A=>parseInt(A,16),[,w,x,k]=Cn.exec(Wn(t)).map(l);Object.assign(this,{_a:w,_b:x,_c:k,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:h,_b:o,_c:u,_d:a}=this,c=this.space==="rgb"?{r:h,g:o,b:u}:this.space==="xyz"?{x:h,y:o,z:u}:this.space==="hsl"?{h,s:o,l:u}:this.space==="lab"?{l:h,a:o,b:u}:this.space==="lch"?{l:h,c:o,h:u}:this.space==="cmyk"?{c:h,m:o,y:u,k:a}:{};Object.assign(this,c)}lab(){const{x:t,y:e,z:i}=this.xyz(),s=116*e-16,r=500*(t-e),h=200*(e-i);return new b(s,r,h,"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),s=Math.sqrt(D(e,2)+D(i,2));let r=180*Math.atan2(i,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new b(t,s,r,"lch")}rgb(){if(this.space==="rgb")return this;if(Zn(this.space)){let{x:t,y:e,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:x,a:k,b:A}=this;if(this.space==="lch"){const{c:V,h:xt}=this,vt=Math.PI/180;k=V*Math.cos(vt*xt),A=V*Math.sin(vt*xt)}const T=(x+16)/116,O=k/500+T,L=T-A/200,q=16/116,B=.008856,H=7.787;t=.95047*(D(O,3)>B?D(O,3):(O-q)/H),e=1*(D(T,3)>B?D(T,3):(T-q)/H),i=1.08883*(D(L,3)>B?D(L,3):(L-q)/H)}const s=t*3.2406+e*-1.5372+i*-.4986,r=t*-.9689+e*1.8758+i*.0415,h=t*.0557+e*-.204+i*1.057,o=Math.pow,u=.0031308,a=s>u?1.055*o(s,1/2.4)-.055:12.92*s,c=r>u?1.055*o(r,1/2.4)-.055:12.92*r,l=h>u?1.055*o(h,1/2.4)-.055:12.92*h;return new b(255*a,255*c,255*l)}else if(this.space==="hsl"){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,e===0)return i*=255,new b(i,i,i);const s=i<.5?i*(1+e):i+e-i*e,r=2*i-s,h=255*jt(r,s,t+1/3),o=255*jt(r,s,t),u=255*jt(r,s,t-1/3);return new b(h,o,u)}else if(this.space==="cmyk"){const{c:t,m:e,y:i,k:s}=this,r=255*(1-Math.min(1,t*(1-s)+s)),h=255*(1-Math.min(1,e*(1-s)+s)),o=255*(1-Math.min(1,i*(1-s)+s));return new b(r,h,o)}else return this}toArray(){const{_a:t,_b:e,_c:i,_d:s,space:r}=this;return[t,e,i,s,r]}toHex(){const[t,e,i]=this._clamped().map(Qn);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[s,r,h]=[t,e,i].map(O=>O/255),o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92,c=(o*.4124+u*.3576+a*.1805)/.95047,l=(o*.2126+u*.7152+a*.0722)/1,w=(o*.0193+u*.1192+a*.9505)/1.08883,x=c>.008856?Math.pow(c,1/3):7.787*c+16/116,k=l>.008856?Math.pow(l,1/3):7.787*l+16/116,A=w>.008856?Math.pow(w,1/3):7.787*w+16/116;return new b(x,k,A,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:s,min:r,round:h}=Math,o=u=>s(0,r(h(u),255));return[t,e,i].map(o)}}class S{constructor(...t){this.init(...t)}clone(){return new S(this)}init(t,e){const i={x:0,y:0},s=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=s.x==null?i.x:s.x,this.y=s.y==null?i.y:s.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){f.isMatrixLike(t)||(t=new f(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function Kn(n,t){return new S(n,t).transformO(this.screenCTM().inverseO())}function nt(n,t,e){return Math.abs(t-n)<(e||1e-6)}class f{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,s=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,h=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,u=t.scale&&t.scale.length?t.scale[1]*s:isFinite(t.scale)?t.scale*s:isFinite(t.scaleY)?t.scaleY*s:s,a=t.shear||0,c=t.rotate||t.theta||0,l=new S(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),w=l.x,x=l.y,k=new S(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),A=k.x,T=k.y,O=new S(t.translate||t.tx||t.translateX,t.ty||t.translateY),L=O.x,q=O.y,B=new S(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),H=B.x,V=B.y;return{scaleX:o,scaleY:u,skewX:r,skewY:h,shear:a,theta:c,rx:H,ry:V,tx:L,ty:q,ox:w,oy:x,px:A,py:T}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const s=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,h=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,u=t.e+t.a*e.e+t.c*e.f,a=t.f+t.b*e.e+t.d*e.f;return i.a=s,i.b=r,i.c=h,i.d=o,i.e=u,i.f=a,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const s=t||0,r=e||0;return this.translateO(-s,-r).lmultiplyO(i).translateO(s,r)}clone(){return new f(this)}decompose(t=0,e=0){const i=this.a,s=this.b,r=this.c,h=this.d,o=this.e,u=this.f,a=i*h-s*r,c=a>0?1:-1,l=c*Math.sqrt(i*i+s*s),w=Math.atan2(c*s,c*i),x=180/Math.PI*w,k=Math.cos(w),A=Math.sin(w),T=(i*r+s*h)/a,O=r*l/(T*i-s)||h*l/(T*s+i),L=o-t+t*k*l+e*(T*k*l-A*O),q=u-e+t*A*l+e*(T*A*l+k*O);return{scaleX:l,scaleY:O,shear:T,rotate:x,translateX:L,translateY:q,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new f(t);return nt(this.a,e.a)&&nt(this.b,e.b)&&nt(this.c,e.c)&&nt(this.d,e.d)&&nt(this.e,e.e)&&nt(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=f.fromArray([1,0,0,1,0,0]);return t=t instanceof $?t.matrixify():typeof t=="string"?f.fromArray(t.split(Y).map(parseFloat)):Array.isArray(t)?f.fromArray(t):typeof t=="object"&&f.isMatrixLike(t)?t:typeof t=="object"?new f().transform(t):arguments.length===6?f.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,s=this.d,r=this.e,h=this.f,o=t*s-e*i;if(!o)throw new Error("Cannot invert "+this);const u=s/o,a=-e/o,c=-i/o,l=t/o,w=-(u*r+c*h),x=-(a*r+l*h);return this.a=u,this.b=a,this.c=c,this.d=l,this.e=w,this.f=x,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,i=t instanceof f?t:new f(t);return f.matrixMultiply(i,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,i=t instanceof f?t:new f(t);return f.matrixMultiply(e,i,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=It(t);const s=Math.cos(t),r=Math.sin(t),{a:h,b:o,c:u,d:a,e:c,f:l}=this;return this.a=h*s-o*r,this.b=o*s+h*r,this.c=u*s-a*r,this.d=a*s+u*r,this.e=c*s-l*r+i*r-e*s+e,this.f=l*s+c*r-e*r-i*s+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,s=0){arguments.length===3&&(s=i,i=e,e=t);const{a:r,b:h,c:o,d:u,e:a,f:c}=this;return this.a=r*t,this.b=h*e,this.c=o*t,this.d=u*e,this.e=a*t-i*t+i,this.f=c*e-s*e+s,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:s,b:r,c:h,d:o,e:u,f:a}=this;return this.a=s+r*t,this.c=h+o*t,this.e=u+a*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,s=0){arguments.length===3&&(s=i,i=e,e=t),t=It(t),e=It(e);const r=Math.tan(t),h=Math.tan(e),{a:o,b:u,c:a,d:c,e:l,f:w}=this;return this.a=o+u*r,this.b=u+o*h,this.c=a+c*r,this.d=c+a*h,this.e=l+w*r-s*r,this.f=w+l*h-i*h,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(f.isMatrixLike(t))return new f(t).multiplyO(this);const e=f.formatTransforms(t),i=this,{x:s,y:r}=new S(e.ox,e.oy).transform(i),h=new f().translateO(e.rx,e.ry).lmultiplyO(i).translateO(-s,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(s,r);if(isFinite(e.px)||isFinite(e.py)){const o=new S(s,r).transform(h),u=isFinite(e.px)?e.px-o.x:0,a=isFinite(e.py)?e.py-o.y:0;h.translateO(u,a)}return h.translateO(e.tx,e.ty),h}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ti(){return new f(this.node.getCTM())}function ei(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),t=n.node.getScreenCTM();return n.remove(),new f(t)}return new f(this.node.getScreenCTM())}catch(n){return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new f}}y(f,"Matrix");function U(){if(!U.nodes){const n=C().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const t=n.path().node;U.nodes={svg:n,path:t}}if(!U.nodes.svg.node.parentNode){const n=g.document.body||g.document.documentElement;U.nodes.svg.addTo(n)}return U.nodes}function Ne(n){return!n.width&&!n.height&&!n.x&&!n.y}function ni(n){return n===g.document||(g.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===g.document}).call(g.document.documentElement,n)}class N{constructor(...t){this.init(...t)}addOffset(){return this.x+=g.window.pageXOffset,this.y+=g.window.pageYOffset,new N(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split(Y).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Ne(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-i;return new N(e,i,s,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof f||(t=new f(t));let e=1/0,i=-1/0,s=1/0,r=-1/0;return[new S(this.x,this.y),new S(this.x2,this.y),new S(this.x,this.y2),new S(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),i=Math.max(i,o.x),s=Math.min(s,o.y),r=Math.max(r,o.y)}),new N(e,s,i-e,r-s)}}function Ce(n,t,e){let i;try{if(i=t(n.node),Ne(i)&&!ni(n.node))throw new Error("Element not in the dom")}catch(s){i=e(n)}return i}function ii(){const e=Ce(this,s=>s.getBBox(),s=>{try{const r=s.clone().addTo(U().svg).show(),h=r.node.getBBox();return r.remove(),h}catch(r){throw new Error(`Getting bbox of element "${s.node.nodeName}" is not possible: ${r.toString()}`)}});return new N(e)}function si(n){const i=Ce(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),s=new N(i);return n?s.transform(n.screenCTM().inverseO()):s.addOffset()}function ri(n,t){const e=this.bbox();return n>e.x&&t>e.y&&n<e.x+e.width&&t<e.y+e.height}p({viewbox:{viewbox(n,t,e,i){return n==null?new N(this.attr("viewBox")):this.attr("viewBox",new N(n,t,e,i))},zoom(n,t){let{width:e,height:i}=this.attr(["width","height"]);if((!e&&!i||typeof e=="string"||typeof i=="string")&&(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),r=e/s.width,h=i/s.height,o=Math.min(r,h);if(n==null)return o;let u=o/n;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new S(e/2/r+s.x,i/2/h+s.y);const a=new N(s).transform(new f({scale:u,origin:t}));return this.viewbox(a)}}});y(N,"Box");class K extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}m([K],{each(n,...t){return typeof n=="function"?this.map((e,i,s)=>n.call(e,e,i,s)):this.map(e=>e[n](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const oi=["toArray","constructor","each"];K.extend=function(n){n=n.reduce((t,e)=>(oi.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),m([K],n)};function ht(n,t){return new K(Qt((t||g.document).querySelectorAll(n),function(e){return R(e)}))}function hi(n){return ht(n,this.node)}function ui(n){return R(this.node.querySelector(n))}let ai=0;const Ee={};function Ie(n){let t=n.getEventHolder();return t===g.window&&(t=Ee),t.events||(t.events={}),t.events}function ee(n){return n.getEventTarget()}function ci(n){let t=n.getEventHolder();t===g.window&&(t=Ee),t.events&&(t.events={})}function $t(n,t,e,i,s){const r=e.bind(i||n),h=C(n),o=Ie(h),u=ee(h);t=Array.isArray(t)?t:t.split(Y),e._svgjsListenerId||(e._svgjsListenerId=++ai),t.forEach(function(a){const c=a.split(".")[0],l=a.split(".")[1]||"*";o[c]=o[c]||{},o[c][l]=o[c][l]||{},o[c][l][e._svgjsListenerId]=r,u.addEventListener(c,r,s||!1)})}function it(n,t,e,i){const s=C(n),r=Ie(s),h=ee(s);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split(Y),t.forEach(function(o){const u=o&&o.split(".")[0],a=o&&o.split(".")[1];let c,l;if(e)r[u]&&r[u][a||"*"]&&(h.removeEventListener(u,r[u][a||"*"][e],i||!1),delete r[u][a||"*"][e]);else if(u&&a){if(r[u]&&r[u][a]){for(l in r[u][a])it(h,[u,a].join("."),l);delete r[u][a]}}else if(a)for(o in r)for(c in r[o])a===c&&it(h,[o,a].join("."));else if(u){if(r[u]){for(c in r[u])it(h,[u,c].join("."));delete r[u]}}else{for(o in r)it(h,o);ci(s)}}))}function li(n,t,e,i){const s=ee(n);return t instanceof g.window.Event||(t=new g.window.CustomEvent(t,W({detail:e,cancelable:!0},i))),s.dispatchEvent(t),t}class gt extends Zt{addEventListener(){}dispatch(t,e,i){return li(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const s in i)for(const r in i[s])i[s][r](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return it(this,t,e,i),this}on(t,e,i,s){return $t(this,t,e,i,s),this}removeEventListener(){}}y(gt,"EventTarget");function be(){}const ct={duration:400,ease:">",delay:0},fi={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class rt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(Y).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class d{constructor(...t){this.init(...t)}convert(t){return new d(this.value,t)}divide(t){return t=new d(t),new d(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(Oe),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof d&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new d(t),new d(this-t,this.unit||t.unit)}plus(t){return t=new d(t),new d(this+t,this.unit||t.unit)}times(t){return t=new d(t),new d(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const di=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),De=[];function pi(n){De.push(n)}function mi(n,t,e){if(n==null){n={},t=this.node.attributes;for(const i of t)n[i.nodeName]=_e.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return n}else{if(n instanceof Array)return n.reduce((i,s)=>(i[s]=this.attr(s),i),{});if(typeof n=="object"&&n.constructor===Object)for(t in n)this.attr(t,n[t]);else if(t===null)this.node.removeAttribute(n);else{if(t==null)return t=this.node.getAttribute(n),t==null?fi[n]:_e.test(t)?parseFloat(t):t;t=De.reduce((i,s)=>s(n,i,this),t),typeof t=="number"?t=new d(t):di.has(n)&&b.isColor(t)?t=new b(t):t.constructor===Array&&(t=new rt(t)),n==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,n,t.toString()):this.node.setAttribute(n,t.toString()),this.rebuild&&(n==="font-size"||n==="x")&&this.rebuild()}}return this}class X extends gt{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=C(t),t.removeNamespace&&this.node instanceof g.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return C(t).put(this,e)}children(){return new K(Qt(this.node.children,function(t){return R(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=Se(i)),new this.constructor(i)}each(t,e){const i=this.children();let s,r;for(s=0,r=i.length;s<r;s++)t.apply(i[s],[s,i]),e&&i[s].each(t,e);return this}element(t,e){return this.put(new X(lt(t),e))}first(){return R(this.node.firstChild)}get(t){return R(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,pn)}id(t){return typeof t=="undefined"&&!this.node.id&&(this.node.id=Ae(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return R(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=R(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=R(e.node.parentNode));return e}put(t,e){return t=C(t),this.add(t,e),t}putIn(t,e){return C(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=C(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=D(10,t),s=this.attr(e);for(const r in s)typeof s[r]=="number"&&(s[r]=Math.round(s[r]*i)/i);return this.attr(s),this}svg(t,e){return this.xml(t,e,Jt)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e==null?!0:e,this.writeDataToDom();let o=this;if(t!=null){if(o=R(o.node.cloneNode(!0)),e){const u=t(o);if(o=u||o,u===!1)return""}o.each(function(){const u=t(this),a=u||this;u===!1?this.remove():u&&this!==a&&this.replace(a)},!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e==null?!1:e;const s=lt("wrapper",i),r=g.document.createDocumentFragment();s.innerHTML=t;for(let o=s.children.length;o--;)r.appendChild(s.firstElementChild);const h=this.parent();return e?this.replace(r)&&h:this.add(r)}}m(X,{attr:mi,find:hi,findOne:ui});y(X,"Dom");class $ extends X{constructor(t,e){var i,s;super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData((s=(i=JSON.parse(t.getAttribute("data-svgjs")))!=null?i:JSON.parse(t.getAttribute("svgjs:data")))!=null?s:{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new d(t).plus(this.x()))}dy(t=0){return this.y(new d(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=C(t));const i=new K;let s=this;for(;(s=s.parent())&&s.node!==g.document&&s.nodeName!=="#document-fragment"&&(i.push(s),!(!e&&s.node===t.node||e&&s.matches(t)));)if(s.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(In);return e?C(e[1]):null}root(){const t=this.parent(gn(Kt));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=ot(this,t,e);return this.width(new d(i.width)).height(new d(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return ke(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}m($,{bbox:ii,rbox:si,inside:ri,point:Kn,ctm:ti,screenCTM:ei});y($,"Element");const at={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,t){return t==="color"?n:n+"-"+t}};["fill","stroke"].forEach(function(n){const t={};let e;t[n]=function(i){if(typeof i=="undefined")return this.attr(n);if(typeof i=="string"||i instanceof b||b.isRgb(i)||i instanceof $)this.attr(n,i);else for(e=at[n].length-1;e>=0;e--)i[at[n][e]]!=null&&this.attr(at.prefix(n,at[n][e]),i[at[n][e]]);return this},p(["Element","Runner"],t)});p(["Element","Runner"],{matrix:function(n,t,e,i,s,r){return n==null?new f(this):this.attr("transform",new f(n,t,e,i,s,r))},rotate:function(n,t,e){return this.transform({rotate:n,ox:t,oy:e},!0)},skew:function(n,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:t,oy:e},!0):this.transform({skew:[n,t],ox:e,oy:i},!0)},shear:function(n,t,e){return this.transform({shear:n,ox:t,oy:e},!0)},scale:function(n,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:t,oy:e},!0):this.transform({scale:[n,t],ox:e,oy:i},!0)},translate:function(n,t){return this.transform({translate:[n,t]},!0)},relative:function(n,t){return this.transform({relative:[n,t]},!0)},flip:function(n="both",t="center"){return"xybothtrue".indexOf(n)===-1&&(t=n,n="both"),this.transform({flip:n,origin:t},!0)},opacity:function(n){return this.attr("opacity",n)}});p("radius",{radius:function(n,t=n){return(this._element||this).type==="radialGradient"?this.attr("r",new d(n)):this.rx(n).ry(t)}});p("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new S(this.node.getPointAtLength(n))}});p(["Element","Runner"],{font:function(n,t){if(typeof n=="object"){for(t in n)this.font(t,n[t]);return this}return n==="leading"?this.leading(t):n==="anchor"?this.attr("text-anchor",t):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,t):this.attr(n,t)}});const gi=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,t){const e=function(i){return i===null?this.off(t):this.on(t,i),this};return n[t]=e,n},{});p("Element",gi);function yi(){return this.attr("transform",null)}function wi(){return(this.attr("transform")||"").split(Dn).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split(Y).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(f.fromArray(e[1])):t[e[0]].apply(t,e[1])},new f)}function _i(n,t){if(this===n)return this;if(Ft(this.node))return this.addTo(n,t);const e=this.screenCTM(),i=n.screenCTM().inverse();return this.addTo(n,t).untransform().transform(i.multiply(e)),this}function bi(n){return this.toParent(this.root(),n)}function xi(n,t){if(n==null||typeof n=="string"){const s=new f(this).decompose();return n==null?s:s[n]}f.isMatrixLike(n)||(n=Mt(W({},n),{origin:qt(n,this)}));const e=t===!0?this:t||!1,i=new f(e).transform(n);return this.attr("transform",i)}p("Element",{untransform:yi,matrixify:wi,toParent:_i,toRoot:bi,transform:xi});class I extends ${flatten(){return this.each(function(){if(this instanceof I)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,s){return s[s.length-i-1].toParent(t,e)}),this.remove()}}y(I,"Container");class ne extends I{constructor(t,e=t){super(M("defs",t),e)}flatten(){return this}ungroup(){return this}}y(ne,"Defs");class j extends ${}y(j,"Shape");function ie(n){return this.attr("rx",n)}function se(n){return this.attr("ry",n)}function ze(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function je(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function Pe(n){return this.attr("cx",n)}function Re(n){return this.attr("cy",n)}function Le(n){return n==null?this.rx()*2:this.rx(new d(n).divide(2))}function qe(n){return n==null?this.ry()*2:this.ry(new d(n).divide(2))}var vi=Object.freeze(Object.defineProperty({__proto__:null,rx:ie,ry:se,x:ze,y:je,cx:Pe,cy:Re,width:Le,height:qe},Symbol.toStringTag,{value:"Module"}));class Ot extends j{constructor(t,e=t){super(M("ellipse",t),e)}size(t,e){const i=ot(this,t,e);return this.rx(new d(i.width).divide(2)).ry(new d(i.height).divide(2))}}m(Ot,vi);p("Container",{ellipse:v(function(n=0,t=n){return this.put(new Ot).size(n,t).move(0,0)})});y(Ot,"Ellipse");class Fe extends X{constructor(t=g.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const s=new X(lt("wrapper",i));return s.add(this.node.cloneNode(!0)),s.xml(!1,i)}return super.xml(t,!1,i)}}y(Fe,"Fragment");function $e(n,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new d(n),fy:new d(t)}):this.attr({x1:new d(n),y1:new d(t)})}function Ye(n,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new d(n),cy:new d(t)}):this.attr({x2:new d(n),y2:new d(t)})}var Mi=Object.freeze(Object.defineProperty({__proto__:null,from:$e,to:Ye},Symbol.toStringTag,{value:"Module"}));class yt extends I{constructor(t,e){super(M(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new N}targets(){return ht("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}m(yt,Mi);p({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:v(function(n,t){return this.put(new yt(n)).update(t)})}});y(yt,"Gradient");class ft extends I{constructor(t,e=t){super(M("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new N}targets(){return ht("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}p({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:v(function(n,t,e){return this.put(new ft).update(e).attr({x:0,y:0,width:n,height:t,patternUnits:"userSpaceOnUse"})})}});y(ft,"Pattern");class Nt extends j{constructor(t,e=t){super(M("image",t),e)}load(t,e){if(!t)return this;const i=new g.window.Image;return $t(i,"load",function(s){const r=this.parent(ft);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof ft&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)},this),$t(i,"load error",function(){it(i)}),this.attr("href",i.src=t,mt)}}pi(function(n,t,e){return(n==="fill"||n==="stroke")&&jn.test(t)&&(t=e.root().defs().image(t)),t instanceof Nt&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t});p({Container:{image:v(function(n,t){return this.put(new Nt).size(0,0).load(n,t)})}});y(Nt,"Image");class G extends rt{bbox(){let t=-1/0,e=-1/0,i=1/0,s=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),s=Math.min(r[1],s)}),new N(i,s,t-i,e-s)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+t,this[s][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(Y).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,s=t.length;i<s;i=i+2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const s=this.bbox();for(i=this.length-1;i>=0;i--)s.width&&(this[i][0]=(this[i][0]-s.x)*t/s.width+s.x),s.height&&(this[i][1]=(this[i][1]-s.y)*e/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){f.isMatrixLike(t)||(t=new f(t));for(let e=this.length;e--;){const[i,s]=this[e];this[e][0]=t.a*i+t.c*s+t.e,this[e][1]=t.b*i+t.d*s+t.f}return this}}const Ti=G;function ki(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)}function Ai(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}function Si(n){const t=this.bbox();return n==null?t.width:this.size(n,t.height)}function Oi(n){const t=this.bbox();return n==null?t.height:this.size(t.width,n)}var re=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:Ti,x:ki,y:Ai,width:Si,height:Oi},Symbol.toStringTag,{value:"Module"}));class dt extends j{constructor(t,e=t){super(M("line",t),e)}array(){return new G([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,s){return t==null?this.array():(typeof e!="undefined"?t={x1:t,y1:e,x2:i,y2:s}:t=new G(t).toLine(),this.attr(t))}size(t,e){const i=ot(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}m(dt,re);p({Container:{line:v(function(...n){return dt.prototype.plot.apply(this.put(new dt),n[0]!=null?n:[0,0,0,0])})}});y(dt,"Line");class Tt extends I{constructor(t,e=t){super(M("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}p({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:v(function(n,t,e){return this.put(new Tt).size(n,t).ref(n/2,t/2).viewbox(0,0,n,t).attr("orient","auto").update(e)})},marker:{marker(n,t,e,i){let s=["marker"];return n!=="all"&&s.push(n),s=s.join("-"),n=arguments[1]instanceof Tt?arguments[1]:this.defs().marker(t,e,i),this.attr(s,n)}}});y(Tt,"Marker");function st(n,t){return function(e){return e==null?this[n]:(this[n]=e,t&&t.call(this),this)}}const Ni={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return-Math.cos(n*Math.PI/2)+1},bezier:function(n,t,e,i){return function(s){return s<0?n>0?t/n*s:e>0?i/e*s:0:s>1?e<1?(1-i)/(1-e)*s+(i-e)/(1-e):n<1?(1-t)/(1-n)*s+(t-n)/(1-n):1:3*s*D(1-s,2)*t+3*D(s,2)*(1-s)*i+D(s,3)}},steps:function(n,t="end"){t=t.split("-").reverse()[0];let e=n;return t==="none"?--e:t==="both"&&++e,(i,s=!1)=>{let r=Math.floor(i*n);const h=i*r%1===0;return(t==="start"||t==="both")&&++r,s&&h&&--r,i>=0&&r<0&&(r=0),i<=1&&r>e&&(r=e),r/e}}};class oe{done(){return!1}}class Yt extends oe{constructor(t=ct.ease){super(),this.ease=Ni[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class kt extends oe{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,s){return this.stepper(t,e,i,s)}}function xe(){const n=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,i=Math.PI,s=Math.log(t/100+e),r=-s/Math.sqrt(i*i+s*s),h=3.9/(r*n);this.d=2*r*h,this.k=h*h}class Ci extends kt{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,s){if(typeof t=="string")return t;if(s.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=s.velocity||0,h=-this.d*r-this.k*(t-e),o=t+r*i+h*i*i/2;return s.velocity=r+h*i,s.done=Math.abs(e-o)+Math.abs(r)<.002,s.done?e:o}}m(Ci,{duration:st("_duration",xe),overshoot:st("_overshoot",xe)});class Ei extends kt{constructor(t=.1,e=.01,i=0,s=1e3){super(),this.p(t).i(e).d(i).windup(s)}step(t,e,i,s){if(typeof t=="string")return t;if(s.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let h=(s.integral||0)+r*i;const o=(r-(s.error||0))/i,u=this._windup;return u!==!1&&(h=Math.max(-u,Math.min(h,u))),s.error=r,s.integral=h,s.done=Math.abs(r)<.001,s.done?e:t+(this.P*r+this.I*h+this.D*o)}}m(Ei,{windup:st("_windup"),p:st("P"),i:st("I"),d:st("D")});const Ii={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Bt={M:function(n,t,e){return t.x=e.x=n[0],t.y=e.y=n[1],["M",t.x,t.y]},L:function(n,t){return t.x=n[0],t.y=n[1],["L",n[0],n[1]]},H:function(n,t){return t.x=n[0],["H",n[0]]},V:function(n,t){return t.y=n[0],["V",n[0]]},C:function(n,t){return t.x=n[4],t.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,t){return t.x=n[2],t.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,t){return t.x=n[2],t.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,t){return t.x=n[0],t.y=n[1],["T",n[0],n[1]]},Z:function(n,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(n,t){return t.x=n[5],t.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},Pt="mlhvqtcsaz".split("");for(let n=0,t=Pt.length;n<t;++n)Bt[Pt[n]]=function(e){return function(i,s,r){if(e==="H")i[0]=i[0]+s.x;else if(e==="V")i[0]=i[0]+s.y;else if(e==="A")i[5]=i[5]+s.x,i[6]=i[6]+s.y;else for(let h=0,o=i.length;h<o;++h)i[h]=i[h]+(h%2?s.y:s.x);return Bt[e](i,s,r)}}(Pt[n].toUpperCase());function Di(n){const t=n.segment[0];return Bt[t](n.segment.slice(1),n.p,n.p0)}function Ht(n){return n.segment.length&&n.segment.length-1===Ii[n.segment[0].toUpperCase()]}function zi(n,t){n.inNumber&&Q(n,!1);const e=te.test(t);if(e)n.segment=[t];else{const i=n.lastCommand,s=i.toLowerCase(),r=i===s;n.segment=[s==="m"?r?"l":"L":i]}return n.inSegment=!0,n.lastCommand=n.segment[0],e}function Q(n,t){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=t,n.number="",n.pointSeen=!1,n.hasExponent=!1,Ht(n)&&Ut(n)}function Ut(n){n.inSegment=!1,n.absolute&&(n.segment=Di(n)),n.segments.push(n.segment)}function ji(n){if(!n.segment.length)return!1;const t=n.segment[0].toUpperCase()==="A",e=n.segment.length;return t&&(e===4||e===5)}function Pi(n){return n.lastToken.toUpperCase()==="E"}const Ri=new Set([" ",",","	",`
`,"\r","\f"]);function Li(n,t=!0){let e=0,i="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new S,p:new S};for(;s.lastToken=i,i=n.charAt(e++);)if(!(!s.inSegment&&zi(s,i))){if(i==="."){if(s.pointSeen||s.hasExponent){Q(s,!1),--e;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=i;continue}if(!isNaN(parseInt(i))){if(s.number==="0"||ji(s)){s.inNumber=!0,s.number=i,Q(s,!0);continue}s.inNumber=!0,s.number+=i;continue}if(Ri.has(i)){s.inNumber&&Q(s,!1);continue}if(i==="-"||i==="+"){if(s.inNumber&&!Pi(s)){Q(s,!1),--e;continue}s.number+=i,s.inNumber=!0;continue}if(i.toUpperCase()==="E"){s.number+=i,s.hasExponent=!0;continue}if(te.test(i)){if(s.inNumber)Q(s,!1);else if(Ht(s))Ut(s);else throw new Error("parser Error");--e}}return s.inNumber&&Q(s,!1),s.inSegment&&Ht(s)&&Ut(s),s.segments}function qi(n){let t="";for(let e=0,i=n.length;e<i;e++)t+=n[e][0],n[e][1]!=null&&(t+=n[e][1],n[e][2]!=null&&(t+=" ",t+=n[e][2],n[e][3]!=null&&(t+=" ",t+=n[e][3],t+=" ",t+=n[e][4],n[e][5]!=null&&(t+=" ",t+=n[e][5],t+=" ",t+=n[e][6],n[e][7]!=null&&(t+=" ",t+=n[e][7])))));return t+" "}class tt extends rt{bbox(){return U().path.setAttribute("d",this.toString()),new N(U.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let s,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]+=t,this[r][2]+=e):s==="H"?this[r][1]+=t:s==="V"?this[r][1]+=e:s==="C"||s==="S"||s==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,s==="C"&&(this[r][5]+=t,this[r][6]+=e)):s==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Li(t)}size(t,e){const i=this.bbox();let s,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]=(this[s][1]-i.x)*t/i.width+i.x,this[s][2]=(this[s][2]-i.y)*e/i.height+i.y):r==="H"?this[s][1]=(this[s][1]-i.x)*t/i.width+i.x:r==="V"?this[s][1]=(this[s][1]-i.y)*e/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[s][1]=(this[s][1]-i.x)*t/i.width+i.x,this[s][2]=(this[s][2]-i.y)*e/i.height+i.y,this[s][3]=(this[s][3]-i.x)*t/i.width+i.x,this[s][4]=(this[s][4]-i.y)*e/i.height+i.y,r==="C"&&(this[s][5]=(this[s][5]-i.x)*t/i.width+i.x,this[s][6]=(this[s][6]-i.y)*e/i.height+i.y)):r==="A"&&(this[s][1]=this[s][1]*t/i.width,this[s][2]=this[s][2]*e/i.height,this[s][6]=(this[s][6]-i.x)*t/i.width+i.x,this[s][7]=(this[s][7]-i.y)*e/i.height+i.y);return this}toString(){return qi(this)}}const Be=n=>{const t=typeof n;return t==="number"?d:t==="string"?b.isColor(n)?b:Y.test(n)?te.test(n)?tt:rt:Oe.test(n)?d:Xt:he.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?rt:t==="object"?pt:Xt};class J{constructor(t){this._stepper=t||new Yt("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Be(t));let e=new this._type(t);return this._type===b&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===pt&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class Xt{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class wt{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,wt.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}wt.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Fi=(n,t)=>n[0]<t[0]?-1:n[0]>t[0]?1:0;class pt{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,s=e.length;i<s;++i){if(e[i+1]===t[i+1]){if(e[i+1]===b&&t[i+7]!==e[i+7]){const o=t[i+7],u=new b(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...u)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const r=new t[i+1]().toArray(),h=e[i+2]+3;e.splice(i,h,t[i],t[i+1],t[i+2],...r),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const i in t){const s=Be(t[i]),r=new s(t[i]).toArray();e.push([i,s,r.length,...r])}return e.sort(Fi),this.values=e.reduce((i,s)=>i.concat(s),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),s=e.shift(),r=e.shift(),h=e.splice(0,r);t[i]=new s(h)}return t}}const he=[Xt,wt,pt];function $i(n=[]){he.push(...[].concat(n))}function Yi(){m(he,{to(n){return new J().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,t,e,i,s){const r=function(h,o){return i.step(h,t[o],e,s[o],s)};return this.fromArray(n.map(r))}})}class ut extends j{constructor(t,e=t){super(M("path",t),e)}array(){return this._array||(this._array=new tt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new tt(t))}size(t,e){const i=ot(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}ut.prototype.MorphArray=tt;p({Container:{path:v(function(n){return this.put(new ut).plot(n||new tt)})}});y(ut,"Path");function Bi(){return this._array||(this._array=new G(this.attr("points")))}function Hi(){return delete this._array,this}function Ui(n,t){return this.attr("points",this.array().move(n,t))}function Xi(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new G(n))}function Gi(n,t){const e=ot(this,n,t);return this.attr("points",this.array().size(e.width,e.height))}var He=Object.freeze(Object.defineProperty({__proto__:null,array:Bi,clear:Hi,move:Ui,plot:Xi,size:Gi},Symbol.toStringTag,{value:"Module"}));class _t extends j{constructor(t,e=t){super(M("polygon",t),e)}}p({Container:{polygon:v(function(n){return this.put(new _t).plot(n||new G)})}});m(_t,re);m(_t,He);y(_t,"Polygon");class bt extends j{constructor(t,e=t){super(M("polyline",t),e)}}p({Container:{polyline:v(function(n){return this.put(new bt).plot(n||new G)})}});m(bt,re);m(bt,He);y(bt,"Polyline");class Ct extends j{constructor(t,e=t){super(M("rect",t),e)}}m(Ct,{rx:ie,ry:se});p({Container:{rect:v(function(n,t){return this.put(new Ct).size(n,t)})}});y(Ct,"Rect");class Rt{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next!="undefined"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const _={nextDraw:null,frames:new Rt,timeouts:new Rt,immediates:new Rt,timer:()=>g.window.performance||g.window.Date,transforms:[],frame(n){const t=_.frames.push({run:n});return _.nextDraw===null&&(_.nextDraw=g.window.requestAnimationFrame(_._draw)),t},timeout(n,t){t=t||0;const e=_.timer().now()+t,i=_.timeouts.push({run:n,time:e});return _.nextDraw===null&&(_.nextDraw=g.window.requestAnimationFrame(_._draw)),i},immediate(n){const t=_.immediates.push(n);return _.nextDraw===null&&(_.nextDraw=g.window.requestAnimationFrame(_._draw)),t},cancelFrame(n){n!=null&&_.frames.remove(n)},clearTimeout(n){n!=null&&_.timeouts.remove(n)},cancelImmediate(n){n!=null&&_.immediates.remove(n)},_draw(n){let t=null;const e=_.timeouts.last();for(;(t=_.timeouts.shift())&&(n>=t.time?t.run():_.timeouts.push(t),t!==e););let i=null;const s=_.frames.last();for(;i!==s&&(i=_.frames.shift());)i.run(n);let r=null;for(;r=_.immediates.shift();)r();_.nextDraw=_.timeouts.first()||_.frames.first()?g.window.requestAnimationFrame(_._draw):null}},Vi=function(n){const t=n.start,e=n.runner.duration(),i=t+e;return{start:t,duration:e,end:i,runner:n.runner}},Wi=function(){const n=g.window;return(n.performance||n.Date).now()};class Ue extends gt{constructor(t=Wi){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(Vi);let s=0;const r=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")s=r;else if(i==="absolute"||i==="start")s=e,e=0;else if(i==="now")s=this._time;else if(i==="relative"){const u=this.getRunnerInfoById(t.id);u&&(s=u.start+e,e=0)}else if(i==="with-last"){const u=this.getLastRunnerInfo();s=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const h=t.persist(),o={persist:h===null?this._persist:h,start:s+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((u,a)=>u.start-a.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return _.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=_.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const s=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let h=this._runners.length;h--;){const o=this._runners[h],u=o.runner;this._time-o.start<=0&&u.reset()}let r=!1;for(let h=0,o=this._runners.length;h<o;h++){const u=this._runners[h],a=u.runner;let c=s;const l=this._time-u.start;if(l<=0){r=!0;continue}else l<c&&(c=l);if(!a.active())continue;a.step(c).done?u.persist!==!0&&a.duration()-a.time()+this._time+u.persist<this._time&&(a.unschedule(),--h,--o):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}p({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new Ue,this._timeline):(this._timeline=n,this)}}});class z extends gt{constructor(t){super(),this.id=z.id++,t=t==null?ct.duration:t,t=typeof t=="function"?new kt(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof kt,this._stepper=this._isDeclarative?t:new Yt,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new f,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,i){var o,u,a,c,l;let s=1,r=!1,h=0;return t=t!=null?t:ct.duration,e=e!=null?e:ct.delay,i=i||"last",typeof t=="object"&&!(t instanceof oe)&&(e=(o=t.delay)!=null?o:e,i=(u=t.when)!=null?u:i,r=t.swing||r,s=(a=t.times)!=null?a:s,h=(c=t.wait)!=null?c:h,t=(l=t.duration)!=null?l:ct.duration),{duration:t,delay:e,swing:r,times:s,wait:h,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const s=z.sanitise(t,e,i),r=new z(s.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new f,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Yt(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const h=Math.floor(this._time/e),u=(this._time-h*e)/this._duration;return Math.min(h+u,this._times)}const i=Math.floor(t),s=t%1,r=e*i+this._duration*s;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,s=this._wait,r=this._times,h=this._swing,o=this._reverse;let u;if(t==null){const w=function(k){const A=h*Math.floor(k%(2*(s+i))/(s+i)),T=A&&!o||!A&&o,O=Math.pow(-1,T)*(k%(s+i))/i+T;return Math.max(Math.min(O,1),0)},x=r*(s+i)-s;return u=e<=0?Math.round(w(1e-5)):e<x?w(e):Math.round(w(x-1e-5)),u}const a=Math.floor(this.loops()),c=h&&a%2===0;return u=a+(c&&!o||o&&c?t:1-t),this.loops(u)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,s){return this._queue.push({initialiser:t||be,runner:e||be,retarget:i,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t==null?!this._reverse:t,this}schedule(t,e,i){if(t instanceof Ue||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t==null?16:t,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const s=this.duration(),r=this._lastTime<=0&&this._time>0,h=this._lastTime<s&&this._time>=s;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!h&&this._time>=s,this._reseted=!1;let u=!1;return(i||o)&&(this._initialise(i),this.transforms=new f,u=this._run(o?t:e),this.fire("step",this)),this.done=this.done||u&&o,h&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t=="undefined"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,i=this._queue.length;e<i;++e){const s=this._queue[e],r=this._isDeclarative||!s.initialised&&t;t=!s.finished,r&&t&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,s=this._queue.length;i<s;++i){const r=this._queue[i],h=r.runner.call(this,t);r.finished=r.finished||h===!0,e=e&&r.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}z.id=0;class At{constructor(t=new f,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}m([z,At],{mergeWith(n){return new At(n.transforms.lmultiply(this.transforms),n.id)}});const Xe=(n,t)=>n.lmultiplyO(t),Ge=n=>n.transforms;function Qi(){const t=this._transformationRunners.runners.map(Ge).reduce(Xe,new f);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Ji{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new At).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}p({Element:{animate(n,t,e){const i=z.sanitise(n,t,e),s=this.timeline();return new z(i.duration).loop(i).element(this).timeline(s.play()).schedule(i.delay,i.when)},delay(n,t){return this.animate(0,n,t)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(t=>t.id<=n.id).map(Ge).reduce(Xe,new f)},_addRunner(n){this._transformationRunners.add(n),_.cancelImmediate(this._frameId),this._frameId=_.immediate(Qi.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Ji().add(new At(new f(this))))}}});const Zi=(n,t)=>n.filter(e=>!t.includes(e));m(z,{attr(n,t){return this.styleAttr("attr",n,t)},css(n,t){return this.styleAttr("css",n,t)},styleAttr(n,t,e){if(typeof t=="string")return this.styleAttr(n,{[t]:e});let i=t;if(this._tryRetarget(n,i))return this;let s=new J(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){s=s.from(this.element()[n](r))},function(h){return this.element()[n](s.at(h).valueOf()),s.done()},function(h){const o=Object.keys(h),u=Zi(o,r);if(u.length){const c=this.element()[n](u),l=new pt(s.from()).valueOf();Object.assign(l,c),s.from(l)}const a=new pt(s.to()).valueOf();Object.assign(a,h),s.to(a),r=o,i=h}),this._rememberMorpher(n,s),this},zoom(n,t){if(this._tryRetarget("zoom",n,t))return this;let e=new J(this._stepper).to(new d(n));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,s){t=s,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(n,t,e){if(t=n.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",n))return this;const i=f.isMatrixLike(n);e=n.affine!=null?n.affine:e!=null?e:!i;const s=new J(this._stepper).type(e?wt:f);let r,h,o,u,a;function c(){h=h||this.element(),r=r||qt(n,h),a=new f(t?void 0:h),h._addRunner(this),t||h._clearTransformRunnersBefore(this)}function l(x){t||this.clearTransform();const{x:k,y:A}=new S(r).transform(h._currentTransform(this));let T=new f(Mt(W({},n),{origin:[k,A]})),O=this._isDeclarative&&o?o:a;if(e){T=T.decompose(k,A),O=O.decompose(k,A);const q=T.rotate,B=O.rotate,H=[q-360,q,q+360],V=H.map(Ke=>Math.abs(Ke-B)),xt=Math.min(...V),vt=V.indexOf(xt);T.rotate=H[vt]}t&&(i||(T.rotate=n.rotate||0),this._isDeclarative&&u&&(O.rotate=u)),s.from(O),s.to(T);const L=s.at(x);return u=L.rotate,o=new f(L),this.addTransform(o),h._addRunner(this),s.done()}function w(x){(x.origin||"center").toString()!==(n.origin||"center").toString()&&(r=qt(x,h)),n=Mt(W({},x),{origin:r})}return this.queue(c,l,w,!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,t){return this.dx(n).dy(t)},_queueNumberDelta(n,t){if(t=new d(t),this._tryRetarget(n,t))return this;const e=new J(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[n](),e.from(i),e.to(i+t)},function(s){return this.element()[n](e.at(s)),e.done()},function(s){e.to(i+new d(s))}),this._rememberMorpher(n,e),this},_queueObject(n,t){if(this._tryRetarget(n,t))return this;const e=new J(this._stepper).to(t);return this.queue(function(){e.from(this.element()[n]())},function(i){return this.element()[n](e.at(i)),e.done()}),this._rememberMorpher(n,e),this},_queueNumber(n,t){return this._queueObject(n,new d(t))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,t){return this.x(n).y(t)},amove(n,t){return this.ax(n).ay(t)},center(n,t){return this.cx(n).cy(t)},size(n,t){let e;return(!n||!t)&&(e=this._element.bbox()),n||(n=e.width/e.height*t),t||(t=e.height/e.width*n),this.width(n).height(t)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,t,e,i){if(arguments.length===4)return this.plot([n,t,e,i]);if(this._tryRetarget("plot",n))return this;const s=new J(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){s.from(this._element.array())},function(r){return this._element.plot(s.at(r)),s.done()}),this._rememberMorpher("plot",s),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,t,e,i){return this._queueObject("viewbox",new N(n,t,e,i))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}});m(z,{rx:ie,ry:se,from:$e,to:Ye});y(z,"Runner");class ue extends I{constructor(t,e=t){super(M("svg",t),e),this.namespace()}defs(){return this.isRoot()?R(this.node.querySelector("defs"))||this.put(new ne):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof g.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Jt,version:"1.1"}).attr("xmlns:xlink",mt,Dt):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Dt).attr("xmlns:svgjs",null,Dt)}root(){return this.isRoot()?this:super.root()}}p({Container:{nested:v(function(){return this.put(new ue)})}});y(ue,"Svg",!0);class ae extends I{constructor(t,e=t){super(M("symbol",t),e)}}p({Container:{symbol:v(function(){return this.put(new ae)})}});y(ae,"Symbol");function Ki(n){return this._build===!1&&this.clear(),this.node.appendChild(g.document.createTextNode(n)),this}function ts(){return this.node.getComputedTextLength()}function es(n,t=this.bbox()){return n==null?t.x:this.attr("x",this.attr("x")+n-t.x)}function ns(n,t=this.bbox()){return n==null?t.y:this.attr("y",this.attr("y")+n-t.y)}function is(n,t,e=this.bbox()){return this.x(n,e).y(t,e)}function ss(n,t=this.bbox()){return n==null?t.cx:this.attr("x",this.attr("x")+n-t.cx)}function rs(n,t=this.bbox()){return n==null?t.cy:this.attr("y",this.attr("y")+n-t.cy)}function os(n,t,e=this.bbox()){return this.cx(n,e).cy(t,e)}function hs(n){return this.attr("x",n)}function us(n){return this.attr("y",n)}function as(n,t){return this.ax(n).ay(t)}function cs(n){return this._build=!!n,this}var Ve=Object.freeze(Object.defineProperty({__proto__:null,plain:Ki,length:ts,x:es,y:ns,move:is,cx:ss,cy:rs,center:os,ax:hs,ay:us,amove:as,build:cs},Symbol.toStringTag,{value:"Module"}));class F extends j{constructor(t,e=t){var i;super(M("text",t),e),this.dom.leading=(i=this.dom.leading)!=null?i:new d(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new d(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const s=this.dom.leading;this.each(function(r){if(Ft(this.node))return;const h=g.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=s*new d(h);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",r?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new d(t.leading||1.3),this}writeDataToDom(){return ke(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let s=0,r=e.length;s<r;++s){if(e[s].nodeName==="textPath"||Ft(e[s])){s===0&&(i=s+1);continue}s!==i&&e[s].nodeType!==3&&R(e[s]).dom.newLined===!0&&(t+=`
`),t+=e[s].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,i=t.length;e<i;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}m(F,Ve);p({Container:{text:v(function(n=""){return this.put(new F).text(n)}),plain:v(function(n=""){return this.put(new F).plain(n)})}});y(F,"Text");class Et extends j{constructor(t,e=t){super(M("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof F))return this;const e=t.index(this),i=g.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=t.dom.leading*new d(i);return this.dy(e?s:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}m(Et,Ve);p({Tspan:{tspan:v(function(n=""){const t=new Et;return this._build||this.clear(),this.put(t).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}});y(Et,"Tspan");class ce extends j{constructor(t,e=t){super(M("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new d(t).divide(2))}}m(ce,{x:ze,y:je,cx:Pe,cy:Re,width:Le,height:qe});p({Container:{circle:v(function(n=0){return this.put(new ce).size(n).move(0,0)})}});y(ce,"Circle");class Gt extends I{constructor(t,e=t){super(M("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return ht("svg [clip-path*="+this.id()+"]")}}p({Container:{clip:v(function(){return this.defs().put(new Gt)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const t=n instanceof Gt?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});y(Gt,"ClipPath");class We extends ${constructor(t,e=t){super(M("foreignObject",t),e)}}p({Container:{foreignObject:v(function(n,t){return this.put(new We).size(n,t)})}});y(We,"ForeignObject");function ls(n,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof mn().SVGSVGElement?new N(e.attr(["x","y","width","height"])):e.bbox()}catch(o){return}const s=new f(e),r=s.translate(n,t).transform(s.inverse()),h=new S(i.x,i.y).transform(r);e.move(h.x,h.y)}),this}function fs(n){return this.dmove(n,0)}function ds(n){return this.dmove(0,n)}function ps(n,t=this.bbox()){return n==null?t.height:this.size(t.width,n,t)}function ms(n=0,t=0,e=this.bbox()){const i=n-e.x,s=t-e.y;return this.dmove(i,s)}function gs(n,t,e=this.bbox()){const i=ot(this,n,t,e),s=i.width/e.width,r=i.height/e.height;return this.children().forEach(h=>{const o=new S(e).transform(new f(h).inverse());h.scale(s,r,o.x,o.y)}),this}function ys(n,t=this.bbox()){return n==null?t.width:this.size(n,t.height,t)}function ws(n,t=this.bbox()){return n==null?t.x:this.move(n,t.y,t)}function _s(n,t=this.bbox()){return n==null?t.y:this.move(t.x,n,t)}var Qe=Object.freeze(Object.defineProperty({__proto__:null,dmove:ls,dx:fs,dy:ds,height:ps,move:ms,size:gs,width:ys,x:ws,y:_s},Symbol.toStringTag,{value:"Module"}));class le extends I{constructor(t,e=t){super(M("g",t),e)}}m(le,Qe);p({Container:{group:v(function(){return this.put(new le)})}});y(le,"G");class St extends I{constructor(t,e=t){super(M("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,mt)}}m(St,Qe);p({Container:{link:v(function(n){return this.put(new St).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const t=n.parent();if(!t)return this.remove();const e=t.index(n);return t.add(this,e),n.remove(),this},linkTo(n){let t=this.linker();return t||(t=new St,this.wrap(t)),typeof n=="function"?n.call(t,t):t.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}});y(St,"A");class Vt extends I{constructor(t,e=t){super(M("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return ht("svg [mask*="+this.id()+"]")}}p({Container:{mask:v(function(){return this.defs().put(new Vt)})},Element:{masker(){return this.reference("mask")},maskWith(n){const t=n instanceof Vt?n:this.parent().mask().add(n);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});y(Vt,"Mask");class Je extends ${constructor(t,e=t){super(M("stop",t),e)}update(t){return(typeof t=="number"||t instanceof d)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new d(t.offset)),this}}p({Gradient:{stop:function(n,t,e){return this.put(new Je).update(n,t,e)}}});y(Je,"Stop");function bs(n,t){if(!n)return"";if(!t)return n;let e=n+"{";for(const i in t)e+=fn(i)+":"+t[i]+";";return e+="}",e}class Wt extends ${constructor(t,e=t){super(M("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",W({fontFamily:t,src:e},i))}rule(t,e){return this.addText(bs(t,e))}}p("Dom",{style(n,t){return this.put(new Wt).rule(n,t)},fontface(n,t,e){return this.put(new Wt).font(n,t,e)}});y(Wt,"Style");class fe extends F{constructor(t,e=t){super(M("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}p({Container:{textPath:v(function(n,t){return n instanceof F||(n=this.text(n)),n.path(t)})},Text:{path:v(function(n,t=!0){const e=new fe;n instanceof ut||(n=this.defs().path(n)),e.attr("href","#"+n,mt);let i;if(t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:v(function(n){return n instanceof F||(n=new F().addTo(this.parent()).text(n)),n.path(this)}),targets(){return ht("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}});fe.prototype.MorphArray=tt;y(fe,"TextPath");class Ze extends j{constructor(t,e=t){super(M("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,mt)}}p({Container:{use:v(function(n,t){return this.put(new Ze).use(n,t)})}});y(Ze,"Use");const xs=C;m([ue,ae,Nt,ft,Tt],E("viewbox"));m([dt,bt,_t,ut],E("marker"));m(F,E("Text"));m(ut,E("Path"));m(ne,E("Defs"));m([F,Et],E("Tspan"));m([Ct,Ot,yt,z],E("radius"));m(gt,E("EventTarget"));m(X,E("Dom"));m($,E("Element"));m(j,E("Shape"));m([I,Fe],E("Container"));m(yt,E("Gradient"));m(z,E("Runner"));K.extend(cn());$i([d,b,N,f,rt,G,tt,S]);Yi();var P=globalThis&&globalThis.__awaiter||function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(h){h(r)})}return new(e||(e=Promise))(function(r,h){function o(c){try{a(i.next(c))}catch(l){h(l)}}function u(c){try{a(i.throw(c))}catch(l){h(l)}}function a(c){c.done?r(c.value):s(c.value).then(o,u)}a((i=i.apply(n,t||[])).next())})};class de{constructor(t){this.angle=0,this.angleUnit="degrees",this.fullCircle=360,this._position=[0,0],this.isPenDown=!0,this.stamps={},this.nextStampId=1,this.speedNormalize=3,this._speed=6,this.penSize=1,this.fd=this.forward,this.bk=this.backward,this.back=this.backward,this.rt=this.right,this.lt=this.left,this.setpos=this.goto,this.set_position=this.goto,this.seth=this.setheading,this.pos=this.position,this.pd=this.penDown,this.down=this.penDown,this.pu=this.penUp,this.up=this.penUp,this.width=this.pensize,this.onscreenclick=this.onclick,this.screenWidth=t.offsetWidth,this.screenHeight=t.offsetHeight,this.draw=xs().addTo(t).viewbox(`-${this.screenWidth/2}, -${this.screenHeight/2}, ${this.screenWidth}, ${this.screenHeight}`),this.group=this.draw.group(),this.turtle=this.group.polygon("0,0 4,7.5 0,15 15,7.5 30,7.5 15,7.5").center(0,0)}getMoveDuration(t,e){const i=Math.sqrt(Math.pow(t-this._position[0],2)+Math.pow(e-this._position[1],2));return this._speed>0?Math.abs(i)/this._speed*this.speedNormalize:0}drawLine(t,e){this.draw.line(this._position[0],this._position[1],this._position[0],this._position[1]).stroke({width:1,color:"black"}).animate(this.getMoveDuration(t,e)).plot(this._position[0],this._position[1],t,e)}move(t,e){return P(this,void 0,void 0,function*(){this.isPenDown&&this.drawLine(t,e),yield new Promise(i=>{this.group.animate(this.getMoveDuration(t,e)).center(t,e).after(i)}),this._position[0]=t,this._position[1]=e})}forward(t){return P(this,void 0,void 0,function*(){const e=t*Math.cos(this.angle*Math.PI/180),i=t*Math.sin(this.angle*Math.PI/180);yield this.move(this._position[0]+e,this._position[1]-i)})}backward(t){return P(this,void 0,void 0,function*(){yield this.forward(-t)})}convertAngle(t){return this.angleUnit==="degrees"?360*t/this.fullCircle:t*(180/Math.PI)}getRotateDuration(t){return this._speed>0?Math.abs(t)/this._speed*this.speedNormalize:0}right(t){return P(this,void 0,void 0,function*(){t=this.convertAngle(t),this.angle=(this.angle+t)%360,yield new Promise(e=>this.turtle.animate(this.getRotateDuration(t)).rotate(-t).after(e))})}left(t){return P(this,void 0,void 0,function*(){yield this.right(-t)})}goto(t,e){return P(this,void 0,void 0,function*(){yield this.move(t,e)})}setx(t){return P(this,void 0,void 0,function*(){yield this.move(t,this._position[1])})}sety(t){return P(this,void 0,void 0,function*(){yield this.move(this._position[0],t)})}setheading(t){return P(this,void 0,void 0,function*(){yield this.right(t-this.angle)})}home(){return P(this,void 0,void 0,function*(){yield this.goto(0,0)})}circle(t,e=360,i){return P(this,void 0,void 0,function*(){i||(i=Math.ceil(Math.abs(e)/10));const r=e/i;for(let h=0;h<i;h++)yield this.forward(t*Math.sin(r*Math.PI/180)),yield this.right(r)})}dot(t=5,e="black"){this.draw.circle(t).fill(e).center(this._position[0],this._position[1])}stamp(){const t=this.nextStampId,e=this.draw.polygon("0,0 4,7.5 0,15 15,7.5").center(this._position[0],this._position[1]).rotate(-this.angle);return this.stamps[t]=e,this.nextStampId++,t}clearstemp(t){this.stamps[t].remove(),delete this.stamps[t]}clearstamps(t){t&&(t=Object.keys(this.stamps).length);const e=Object.keys(this.stamps);if(t>0)for(let i=0;i<t&&e.length>0;i++)this.clearstemp(Number(e[0])),e.splice(0,1);else for(let i=e.length-1;i>=-t&&e.length>0;i--)this.clearstemp(Number(e[i])),e.slice(i,1)}undo(t){return P(this,void 0,void 0,function*(){})}speed(t){if(t)if(typeof t=="string"){const e={fastest:0,fast:10,normal:6,slow:3,slowest:1};this._speed=e[t]}else(t<.5||t>10)&&(t=0),this._speed=t;else return this._speed}position(){return this._position}towards(t,e){return Math.atan2(e-this._position[1],t-this._position[0])*180/Math.PI}xcor(){return this._position[0]}ycor(){return this._position[1]}heading(){return this.convertAngle(this.angle)}distance(t,e){let i,s;return typeof t=="number"?(i=t,s=e):t instanceof de?[i,s]=t.position():(i=t[0],s=t[1]),Math.sqrt(Math.pow(i-this._position[0],2)+Math.pow(s-this._position[1],2))}degrees(t=360){this.angleUnit="degrees",this.fullCircle=t}radians(){this.angleUnit="radians"}penDown(){this.isPenDown=!0}penUp(){this.isPenDown=!1}pensize(t){if(t)this.penSize=t;else return this.penSize}pen(){}isdown(){return this.isPenDown}onclick(t){this.draw.mousedown(({offsetX:e,offsetY:i})=>{const s=e-this.screenWidth/2,r=i-this.screenHeight/2;t(s,r)})}onrelease(t){this.draw.mouseup(({offsetX:e,offsetY:i})=>{const s=e-this.screenWidth/2,r=i-this.screenHeight/2;t(s,r)})}}const vs=an("canvas",{style:{width:"500px",height:"500px"},id:"canvas"},null,-1),Ms=[vs],As={setup(n){return on(()=>{const t=document.getElementById("canvas");t.getContext("2d");const e=new de(t);console.log(e.turtle),e.turtle.goto(100,100),e.turtle.goto(100,-100),e.turtle.goto(-100,-100),e.turtle.goto(-100,100),e.turtle.goto(0,0)}),(t,e)=>(un(),hn("div",null,Ms))}};export{As as default};
//# sourceMappingURL=index.8e5e2104.js.map
